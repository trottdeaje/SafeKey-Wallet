{"version":3,"sources":["screens/ShowVaccinationQrScreen.js"],"names":["Version","loadable","ShowQrVax","navigation","useState","vaxExists","setVaxExists","vax","setVax","useEffect","a","async","AsyncStorage","getItem","value","getVax","e","alert","dispatch","StackActions","replace","style","styles","container","QrHeader","center","borderWidth","borderColor","bmQrLogo","source","require","size","quietZone","color","onPress","CommonActions","reset","index","routes","name","btn","shadow","backgroundColor","marginTop","marginBottom","maxWidth","btnText"],"mappings":"kOASMA,EAAUC,aAAS,kBAAM,+DAgFhBC,UA9EG,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACnB,EAAkCC,mBAAS,MAA3C,WAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAsBF,mBAAS,MAA/B,WAAOG,EAAP,KAAYC,EAAZ,KAyBA,OAvBAC,qBAAU,WACR,KACE,mBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACsBE,IAAaC,QAAQ,WAD3C,OAEgB,QADRC,EADR,SAGIR,GAAa,GACbE,EAAOM,IAEPR,GAAa,GANjB,4DASAS,GACA,MAAOC,GACPC,MAAMD,MAEP,CAACX,IAEJI,qBAAU,YACU,IAAdJ,GACFF,EAAWe,SAASC,eAAaC,QAAQ,cAE1C,CAACf,IAGF,oCACIE,EAGA,kBAAC,IAAD,CAAMc,MAAOC,IAAOC,WAClB,kBAAC,IAAD,CAAMF,MAAOC,IAAOE,UAApB,2BACA,kBAAC,IAAD,CAAMH,MAAOC,IAAOG,QAClB,kBAAC,IAAD,CACEJ,MAAO,CACLC,IAAOG,OACP,CACEC,YAAa,EACbC,YAAa,aAIjB,kBAAC,IAAD,CACEN,MAAOC,IAAOM,SACdC,OAAQC,EAAQ,OAElB,kBAAC,UAAD,CAAQhB,MAAOP,EAAKwB,KAAM,IAAKC,UAAW,GAAIC,MAAO,cAIzD,kBAAC,IAAD,CACEC,QAAS,kBACP/B,EAAWe,SACTiB,gBAAcC,MAAM,CAAEC,MAAO,EAAGC,OAAQ,CAAC,CAAEC,KAAM,gBAGrDlB,MAAO,CACLC,IAAOkB,IACPlB,IAAOmB,OACP,CACEC,gBAAiB,UACjBC,UAAW,GACXC,aAAc,GACdC,SAAU,OAId,kBAAC,IAAD,CAAMxB,MAAO,CAACC,IAAOwB,QAAS,CAAEb,MAAO,UAAvC,aAvCJ,kBAAC,IAAD,MA2CF,kBAACjC,EAAD","file":"static/js/23.0f5550a4.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, Text, TouchableOpacity, Image } from \"react-native\";\r\nimport { StackActions } from \"@react-navigation/native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { CommonActions } from \"@react-navigation/native\";\r\nimport { styles } from \"./styles\";\r\nimport QRCode from \"react-native-qrcode-svg\";\r\nimport Loading from \"./Loading\";\r\nimport loadable from \"@loadable/component\";\r\nconst Version = loadable(() => import(\"../components/Version/Version\"));\r\n\r\nconst ShowQrVax = ({ navigation }) => {\r\n  const [vaxExists, setVaxExists] = useState(null);\r\n  const [vax, setVax] = useState(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      async function getVax() {\r\n        const value = await AsyncStorage.getItem(\"BM.VAX\");\r\n        if (value !== null) {\r\n          setVaxExists(true);\r\n          setVax(value);\r\n        } else {\r\n          setVaxExists(false);\r\n        }\r\n      }\r\n      getVax();\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  }, [vaxExists]);\r\n\r\n  useEffect(() => {\r\n    if (vaxExists === false) {\r\n      navigation.dispatch(StackActions.replace(\"QR List\"));\r\n    }\r\n  }, [vaxExists]);\r\n\r\n  return (\r\n    <>\r\n      {!vax ? (\r\n        <Loading />\r\n      ) : (\r\n        <View style={styles.container}>\r\n          <Text style={styles.QrHeader}>Vaccination Certificate</Text>\r\n          <View style={styles.center}>\r\n            <View\r\n              style={[\r\n                styles.center,\r\n                {\r\n                  borderWidth: 5,\r\n                  borderColor: \"#fc9cc7\",\r\n                },\r\n              ]}\r\n            >\r\n              <Image\r\n                style={styles.bmQrLogo}\r\n                source={require(\"../assets/images/bm-logo.svg\")}\r\n              />\r\n              <QRCode value={vax} size={300} quietZone={10} color={\"#121212\"} />\r\n            </View>\r\n          </View>\r\n\r\n          <TouchableOpacity\r\n            onPress={() =>\r\n              navigation.dispatch(\r\n                CommonActions.reset({ index: 0, routes: [{ name: \"QR List\" }] })\r\n              )\r\n            }\r\n            style={[\r\n              styles.btn,\r\n              styles.shadow,\r\n              {\r\n                backgroundColor: \"#1971ef\",\r\n                marginTop: 30,\r\n                marginBottom: 25,\r\n                maxWidth: 250,\r\n              },\r\n            ]}\r\n          >\r\n            <Text style={[styles.btnText, { color: \"#fff\" }]}>Go Back</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n      <Version />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShowQrVax;\r\n"],"sourceRoot":""}