(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{130:function(e,t,n){e.exports=n.p+"static/media/file-text.a031f6ff.png"},192:function(e,t,n){e.exports=n.p+"static/media/qr-background.83209ff7.svg"},193:function(e,t,n){e.exports=n.p+"static/media/share-min.31430806.svg"},208:function(e,t){},215:function(e,t,n){e.exports=n.p+"static/media/camera.c560f04f.png"},221:function(e,t,n){e.exports=n.p+"static/media/nocam.3d6e5311.png"},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var a=n(6),r=n.n(a),o=n(2),c=n.n(o),i=n(0),l=n.n(i),s=n(1),u=n(29),m=n(227),f=n(426),d=n(61),p=n(10),g=n(25),y=n(32),h=n(21),E=n(20),b=n(131),S=n(4),w=S.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",paddingHorizontal:20},containerTop:{flex:1,backgroundColor:"#fff",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:20,paddingTop:20,width:"100%",marginBottom:10},btn:{width:"100%",maxWidth:500,borderRadius:10,paddingVertical:11},btnLine:{borderWidth:2.5,borderColor:"#1971ef"},btnText:{textAlign:"center",fontSize:18},bold:{textAlign:"center",color:"#333",fontFamily:"OpenSans_600SemiBold"},shadow:{shadowColor:"#470000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:5,elevation:2},text:{color:"#333",fontFamily:"OpenSans_400Regular",fontSize:14},li:{alignSelf:"flex-start",color:"black",fontFamily:"OpenSans_400Regular",lineHeight:30,marginBottom:30,fontSize:18,textAlign:"left",marginLeft:0,color:"#333333"},noticeHeader:{fontFamily:"OpenSans_600SemiBold",fontSize:19,marginBottom:25,marginTop:25,alignSelf:"flex-start",color:"#333333"},QrHeader:{fontSize:24,fontWeight:"bold",marginBottom:20,marginTop:20,color:"#000",textAlign:"center"},center:{display:"flex",justifyContent:"center",alignItems:"center"},bmQrLogo:{width:55,height:80,position:"absolute"},scrollStyle:{backgroundColor:"#fff",flex:1,marginVertical:"auto"}}),x=function(){return l.a.createElement(s.a,{style:[w.container,{marginBottom:0,paddingHorizontal:0}]},l.a.createElement(b.a,{color:"#000f0f"}))},v=n(423),C=function(e){var t=e.navigation,a=Object(i.useState)(null),o=r()(a,2),m=o[0],f=o[1],d=Object(i.useState)(null),b=r()(d,2),S=b[0],C=b[1],O=Object(i.useState)(null),T=r()(O,2),B=T[0],k=T[1],A=Object(v.a)([n(192),n(95),n(193)]),K=r()(A,1)[0];return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.KEY"));case 2:e=t.sent,f(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[m]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.VAX"));case 2:e=t.sent,C(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[S]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.CONTACTKEY"));case 2:e=t.sent,k(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[B]),Object(i.useEffect)((function(){!0!==S&&!0!==m&&!0!==B||t.dispatch(E.StackActions.replace("QR List"))}),[S,m,B]),l.a.createElement(l.a.Fragment,null,K?l.a.createElement(y.a,{contentContainerStyle:w.container,style:{backgroundColor:"#fff"}},l.a.createElement(s.a,null,l.a.createElement(u.a,{resizeMethod:"auto",style:{height:150,width:170,marginTop:25},source:n(192)})),l.a.createElement(p.a,{style:[w.bold,{marginBottom:2,fontSize:18}]},"No SafeKeys found"),l.a.createElement(p.a,{style:[w.text,{marginTop:0,marginBottom:15,textAlign:"center"}]},"Press Scan or Select to add one."),l.a.createElement(g.a,{onPress:function(){t.navigate("Scan QR")},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",borderWidth:0}]},l.a.createElement(p.a,{style:[w.btnText,{color:"white"}]},"Scan Document")),l.a.createElement(g.a,{style:[w.btn,w.shadow,w.btnLine,{backgroundColor:"#fff",marginTop:16}],onPress:function(){t.navigate("Select Document")}},l.a.createElement(p.a,{style:[w.btnText,{color:"#1971ef"}]},"Select Document"))):l.a.createElement(x,null))},O=n(58),T=n(276),B=n(108),k=n(253),A=n(256),K=function(e){var t=e.navigation,a=Object(i.useState)(""),o=r()(a,2),m=o[0],f=o[1],b=Object(B.b)(),S=Object(v.a)([n(130)]),C=r()(S,1)[0],K=Object(i.useState)(!1),j=r()(K,2),R=j[0],I=j[1];return l.a.createElement(l.a.Fragment,null,C?l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{contentContainerStyle:{margin:"auto",alignItems:"center",paddingHorizontal:20},style:[w.scrollStyle]},l.a.createElement(p.a,{style:{textAlign:"center",marginBottom:.5,fontSize:16,marginBottom:16,lineHeight:24}},"Add your SafeKey to your wallet by selecting your"," ",l.a.createElement(p.a,{style:{fontWeight:"bold"}},"SafeKey, "),l.a.createElement(p.a,{style:{fontWeight:"bold"}},"Contact Tracing Key "),"or"," ",l.a.createElement(p.a,{style:{fontWeight:"bold"}},"Vaccination Certificate PDF Document.")),l.a.createElement(p.a,{style:[w.text,{fontWeight:"bold",marginTop:15,marginBottom:15,textAlign:"center"}]},"Select your PDF Document"),l.a.createElement(g.a,{disabled:R,style:[w.btn,w.shadow,{backgroundColor:R?"#1a73ef80":"#1971ef"}],onPress:function(){var e,n,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.a.awrap(T.a({type:"application/pdf"}));case 3:"cancel"!==(e=r.sent).type&&(a=function(e){if("Invalid PDF structure."===e.message)return f(l.a.createElement(s.a,{style:{marginTop:15}},l.a.createElement(p.a,{style:[w.text,{color:"#d71f2e",textAlign:"center"}]},"Invalid file type. Please select a valid SafeKey PDF file."))),void I(!1);if(0===e.codes.length)return console.error("No QR Found"),f(l.a.createElement(s.a,{style:{marginTop:15}},l.a.createElement(p.a,{style:[w.text,{color:"#d71f2e",textAlign:"center"}]},"SafeKey QR Code not detected. Please try again."))),void I(!1);!function(){var n,a,r,o,i,u,m,y,S,x,v,C,T,B,k,A,K,j,R,P,M;c.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(n=e.codes.toString(),a=[":BM.KEY:",":BM.CONTACTKEY:"],![":BM.KEY:",":BM.VAX:",":BM.CONTACTKEY:"].some((function(e){return n.includes(e)}))){N.next=43;break}if(!a.some((function(e){return n.includes(e)}))){N.next=34;break}if(r=n.indexOf(":"),r+=1,o=n.indexOf(":",r+1),i=n.substring(r,o),u="BM.KEY"===i?n.indexOf(":",130):"BM.CONTACTKEY"===i?n.indexOf(":",142):null,m=n.indexOf("/"),y=n.substring(u,m),S=y.slice(1),isNaN(S)){N.next=33;break}if(x=parseInt(S.substr(0,4),10),v=parseInt(S.substr(6),10),C=parseInt(S.substr(4,2),10),T=new Date(x,C-1,v),B=function(e){return e.toISOString().slice(0,10)},k=Date.parse(B(new Date)),A=Date.parse(x+"/"+C+"/"+v),864e5,!(A+864e5<=k)){N.next=25;break}return I(!1),N.abrupt("return",f(l.a.createElement(s.a,{style:[w.center,{width:"100%",maxWidth:500,marginTop:20,padding:10,textAlign:"center"}]},l.a.createElement(p.a,{style:[w.text,{color:"red",fontFamily:"OpenSans_600SemiBold"}]},"BM.KEY"===i?"This SafeKey has expired. Click the button below to visit the SafeKey renewal page.":"BM.CONTACTKEY"===i?"This Contact Tracing Key has expired. Click the button below to visit the SafeKey renewal page.":""),l.a.createElement(g.a,{style:[w.btn,w.shadow,w.btnLine,{marginTop:10}],onPress:function(){return O.a.openURL("https://www.gov.bm/safekey")}},l.a.createElement(p.a,{style:[w.btnText,{color:"#1971ef"}]},"Renew")))));case 25:return K={weekday:"long",year:"numeric",month:"long",day:"numeric"},j=T.toLocaleString("en-US",K),N.next=29,c.a.awrap(h.a.setItem("BM.KEY"===i?"passExpiry":"contactExpiry",j));case 29:return N.next=31,c.a.awrap(h.a.setItem("BM.KEY"===i?"passExpiryRaw":"contactExpiryRaw",""+A));case 31:N.next=34;break;case 33:console.error("parsed date is not a number");case 34:return R=n.indexOf(":"),R+=1,P=n.indexOf(":",R+1),M=n.substring(R,P),N.next=40,c.a.awrap(h.a.setItem(M,n));case 40:d.a("DocumentAdded",{type:"BM.KEY"===M?"SafeKey":"BM.VAX"===M?"Vaccination Certificate":"BM.CONTACTKEY"===M?"Contact Tracing Key":"",purpose:"User has added their SafeKey PDF document"}),t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"QR List"}]})),b.show(l.a.createElement(s.a,null,l.a.createElement(p.a,{style:[w.bold,{color:"#fff"}]},"BM.KEY"===M?"SafeKey added":"BM.VAX"===M?"Vaccination Certificate added":"BM.CONTACTKEY"===M?"Contact Tracing Key added":"")),{id:3,type:"success",duration:3500,animationType:"zoom-in"});case 43:case"end":return N.stop()}}),null,null,null,Promise)}()},1,n={scale:{once:!0,value:5,start:.2,step:.2,stop:2},resultOpts:{singleCodeInPage:!0,multiCodesInPage:!1,maxCodesInPage:1},improve:!0,jsQR:{}},f(l.a.createElement(s.a,{style:{marginTop:20}},l.a.createElement(A.ClipLoader,{size:"14px",color:"#1971ef"}))),I(!0),k.PDF_QR_JS.decodeSinglePage(e.uri,1,n,a)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),null,null,[[0,7]],Promise)}},l.a.createElement(p.a,{style:[w.center,{textAlign:"center",color:"white",fontSize:17}]},l.a.createElement(u.a,{style:{width:20,height:20,marginRight:8},source:n(130)}),"Select")),l.a.createElement(p.a,null,m||l.a.createElement(s.a,{style:{height:38,backgroundColor:"#fff"}})))):l.a.createElement(x,null))},j=n(26),R=n(257),I=n.n(R),P=j.a.get("window"),M=j.a.get("screen"),N=function(e){var t=e.navigation,n=Object(i.useState)(!1),a=r()(n,2),o=a[0],u=a[1],m=Object(i.useState)("environment"),f=r()(m,2),y=f[0],b=f[1],S=Object(i.useState)(!1),x=r()(S,2),v=x[0],C=x[1],T=Object(i.useState)({window:P,screen:M}),k=r()(T,2),A=k[0],K=k[1],R=Object(B.b)(),N=function(e){var t=e.window,n=e.screen;K({window:t,screen:n})};Object(i.useEffect)((function(){return j.a.addEventListener("change",N),function(){j.a.removeEventListener("change",N)}}));return l.a.createElement(s.a,{style:[w.container,{backgroundColor:"#000",marginBottom:0}]},l.a.createElement(s.a,{style:[w.center,{backgroundColor:"#000",fontSize:16,lineHeight:50,textAlign:"center",position:"relative",textAlignVertical:"center",margin:0,zIndex:10,fontSize:16,flex:1,minHeight:80,marginBottom:20}]},l.a.createElement(p.a,{style:{color:"#f1f1f1",marginBottom:5,marginTop:15}},"Scan your SafeKey Document QR code"),l.a.createElement(p.a,{style:{color:"#f1f1f1"}},"Keep camera steady"),l.a.createElement(p.a,{style:{color:v?"#ffbb33":"#28a745",marginTop:10,fontFamily:"OpenSans_600SemiBold"}},v?"INVALID QR":"SCANNING")),l.a.createElement(I.a,{facingMode:y,onLoad:function(){console.log("QR Reader Loaded")},delay:300,onError:function(e){console.log(e.name),"NotAllowedError"===e.name&&t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"NoCamera"}]}))},onScan:function(e){o||function(e){var n,a,r,o,i,m,f,y,b,S,x,v,T,B,k,A,K,j,I,P,M;c.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(n=[":BM.KEY:",":BM.VAX:","BM.CONTACTKEY"],a=[":BM.KEY:","BM.CONTACTKEY"],null===e){N.next=49;break}if(!n.some((function(t){return e.includes(t)}))){N.next=46;break}if(!a.some((function(t){return e.includes(t)}))){N.next=34;break}if(r=e.indexOf(":"),r+=1,o=e.indexOf(":",r+1),i=e.substring(r,o),m="BM.KEY"===i?e.indexOf(":",130):"BM.CONTACTKEY"===i?e.indexOf(":",142):null,f=e.indexOf("/"),y=e.substring(m,f),b=y.slice(1),isNaN(b)){N.next=33;break}if(S=parseInt(b.substr(0,4),10),x=parseInt(b.substr(6),10),v=parseInt(b.substr(4,2),10),T=new Date(S,v-1,x),B=function(e){return e.toISOString().slice(0,10)},k=Date.parse(B(new Date)),A=Date.parse(S+"/"+v+"/"+x),864e5,!(A+864e5<=k)){N.next=25;break}return R.show(l.a.createElement(s.a,null,l.a.createElement(g.a,{onPress:function(){O.a.openURL("https://www.gov.bm/safekey"),R.hide(1)}},l.a.createElement(p.a,{style:[w.bold,{color:"#fff"}]},"BM.KEY"===i?"This SafeKey has expired":"BM.CONTACTKEY"===i?"This Contact Tracing Key has expired":""),l.a.createElement(p.a,{style:[w.text,{color:"#fff",textAlign:"center"}]},"Click here to renew it"))),{offsetBottom:50,id:1,position:"bottom",duration:8e3,type:"normal",normalColor:"#ff4d4d"}),N.abrupt("return",t.goBack());case 25:return K={weekday:"long",year:"numeric",month:"long",day:"numeric"},j=T.toLocaleString("en-US",K),N.next=29,c.a.awrap(h.a.setItem("BM.KEY"===i?"passExpiry":"contactExpiry",j));case 29:return N.next=31,c.a.awrap(h.a.setItem("BM.KEY"===i?"passExpiryRaw":"contactExpiryRaw",""+A));case 31:N.next=34;break;case 33:console.log("parsed date is not a number");case 34:return I=e.indexOf(":"),I+=1,P=e.indexOf(":",I+1),M=e.substring(I,P),N.next=40,c.a.awrap(h.a.setItem(M,e));case 40:u(!0),d.a("DocumentScanned",{type:"BM.KEY"===M?"SafeKey":"BM.VAX"===M?"Vaccination Certificate":"BM.CONTACTKEY"===M?"Contact Tracing Key":"",purpose:"User has scanned their SafeKey QR code."}),t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"QR List"}]})),R.show(l.a.createElement(s.a,null,l.a.createElement(p.a,{style:[w.bold,{color:"#fff"}]},"BM.KEY"===M?"SafeKey added":"BM.VAX"===M?"Vaccination Certificate added":"BM.CONTACTKEY"===M?"Contact Tracing Key added":"")),{id:3,type:"success",duration:3500,animationType:"zoom-in"}),N.next=47;break;case 46:C(!0);case 47:N.next=51;break;case 49:u(!1),C(!1);case 51:case"end":return N.stop()}}),null,null,null,Promise)}(e)},style:{width:A.window.width<565?"100%":510,alignSelf:"center"}}),l.a.createElement(s.a,{style:{width:"100%",flex:1,justifyContent:"center",marginTop:20}},l.a.createElement(g.a,{onPress:function(){b("environment"===y?"user":"environment")},style:{paddingHorizontal:10,alignSelf:"center",backgroundColor:"#1971ef",paddingVertical:10,borderRadius:5,marginBottom:25,marginTop:25}},l.a.createElement(p.a,{style:{color:"white",textAlign:"center",letterSpacing:1,fontFamily:"OpenSans_400Regular"}},"Switch Camera"))))},V=n(275),z=n(424),D=function(e){var t=Object(i.useState)("#000"),n=r()(t,2),a=n[0],o=n[1],u=Object(i.useState)("#000"),m=r()(u,2),f=m[0],y=m[1],b=Object(i.useState)(!1),S=r()(b,2),x=S[0],v=S[1],C=Object(i.useState)(!1),T=r()(C,2),B=T[0],k=T[1],A=Object(i.useState)(!1),K=r()(A,2),j=K[0],R=K[1],I=Object(i.useState)(!1),P=r()(I,2),M=P[0],N=P[1],D=Object(i.useState)(!1),Q=r()(D,2),F=Q[0],L=Q[1];Object(i.useEffect)((function(){try{!function(){var e,t,n;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(h.a.getItem("passExpiryRaw"));case 2:null!==(e=a.sent)&&(t=function(e){return e.toISOString().slice(0,10)},n=Date.parse(t(new Date)),864e5,e>n||e==n?N(!1):parseInt(e)+864e5<=n&&N(!0));case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(i.useEffect)((function(){try{!function(){var e,t,n;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(h.a.getItem("contactExpiryRaw"));case 2:null!==(e=a.sent)&&(t=function(e){return e.toISOString().slice(0,10)},n=Date.parse(t(new Date)),864e5,e>n||e==n?L(!1):parseInt(e)+864e5<=n&&L(!0));case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("no_notice_safekey"));case 2:null!==(e=t.sent)&&v(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("no_notice_vaccine"));case 2:null!==(e=t.sent)&&k(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("no_notice_contact"));case 2:null!==(e=t.sent)&&R(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]);var _=l.a.createRef(),W=function e(){_.current&&(_.current.style.display="none",document.removeEventListener("click",e))};Object(i.useEffect)((function(){"Vaccination Certificate"==e.name?(o("#fc9cc7"),y("#fc9cc7")):"SafeKey"==e.name?(o("#5299e1"),y("#66b0ff")):"Contact Tracing Key"==e.name&&(o("#66c45f"),y("#81cf7d"))}),[e.name]);var Y=Object(E.useNavigation)();return l.a.createElement(s.a,{style:{width:"100%"}},l.a.createElement(V.a,{start:{x:1,y:0},end:{x:0,y:0},colors:[a,f],style:[w.shadow,{width:"100%",marginBottom:15,paddingLeft:15,borderRadius:10}]},l.a.createElement(g.a,{style:{justifyContent:"space-between",flexDirection:"row",alignItems:"center"},onPress:function(){"SafeKey Notice"===e.infoScreen&&(x?Y.navigate("SafeKey QR"):x||Y.navigate("SafeKey Notice")),"Vaccination Notice"===e.infoScreen&&(B?Y.navigate("Vaccination Certificate QR"):B||Y.navigate("Vaccination Notice")),"Contact Tracing Notice"===e.infoScreen&&(j?Y.navigate("Contact Tracing Key QR"):j||Y.navigate("Contact Tracing Notice"))}},l.a.createElement(s.a,{style:{paddingVertical:15}},l.a.createElement(p.a,{style:{fontFamily:"OpenSans_600SemiBold",color:"white",textAlign:"left",fontSize:16}},e.name," ","SafeKey"===e.name&&!0===M||"Contact Tracing Key"===e.name&&!0===F?l.a.createElement(g.a,{onPress:function(){O.a.openURL("https://www.gov.bm/safekey")},style:[w.shadow,{backgroundColor:"#ae1613",paddingHorizontal:5,paddingVertical:2,borderRadius:5,marginLeft:2,margin:"auto",borderColor:"#fff"}]},"Expired"):l.a.createElement(p.a,null))),l.a.createElement(g.a,{onPress:function(){_.current.style.display="flex",document.addEventListener("click",W)},style:[w.center,{height:"100%",width:50,flexDirection:"row"}]},l.a.createElement(z.a,{name:"ios-ellipsis-vertical",size:24,color:"white"})),l.a.createElement(s.a,{style:[w.shadow,{display:"none",flexDirection:"column",backgroundColor:"#fff",borderRadius:5,position:"absolute",right:40,top:11}],ref:_},l.a.createElement(g.a,{onPress:function(){var t;t=e.type,c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"BM.KEY"!==t){e.next=10;break}return e.next=4,c.a.awrap(h.a.removeItem("passExpiry"));case 4:return e.next=6,c.a.awrap(h.a.removeItem("passExpiryRaw"));case 6:return e.next=8,c.a.awrap(h.a.removeItem("no_notice_safekey"));case 8:e.next=22;break;case 10:if("BM.VAX"!==t){e.next=15;break}return e.next=13,c.a.awrap(h.a.removeItem("no_notice_vaccine"));case 13:e.next=22;break;case 15:if("BM.CONTACTKEY"!==t){e.next=22;break}return e.next=18,c.a.awrap(h.a.removeItem("contactExpiry"));case 18:return e.next=20,c.a.awrap(h.a.removeItem("contactExpiryRaw"));case 20:return e.next=22,c.a.awrap(h.a.removeItem("no_notice_contact"));case 22:return e.next=24,c.a.awrap(h.a.removeItem(t));case 24:d.a("QrDeleted",{type:"BM.KEY"===t?"SafeKey":"Vaccination Certificate",purpose:"user deleted a safekey"}),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),alert(e.t0);case 30:case"end":return e.stop()}}),null,null,[[0,27]],Promise),e.removeItem()},style:{paddingHorizontal:20,paddingVertical:5}},l.a.createElement(p.a,{style:{fontFamily:"OpenSans_400Regular",color:"#dc3545"}},"Delete"))))))},Q=n(65),F=n(128),L=n(425),_=(n(415),S.a.create({btnCircle:{width:55,height:55,borderRadius:50,position:"absolute",bottom:20,right:20,backgroundColor:"#1971ef"},infoPoints:{fontSize:10,fontFamily:"OpenSans_400Regular",color:"#919191",marginBottom:-10}})),W=function(e){var t=e.navigation,a=Object(i.useState)(void 0),o=r()(a,2),m=o[0],f=o[1],d=Object(i.useState)(void 0),g=r()(d,2),b=g[0],S=g[1],C=Object(i.useState)(void 0),O=r()(C,2),T=O[0],B=O[1],k=Object(i.useState)(),A=r()(k,2),K=A[0],j=A[1],R=Object(i.useState)(),I=r()(R,2),P=I[0],M=I[1],N=Object(i.useState)(),V=r()(N,2),W=V[0],Y=V[1],H=Object(i.useState)(!1),U=r()(H,2),X=U[0],G=U[1],q=Object(v.a)([n(130),n(215)]),J=r()(q,1)[0],Z=Object(Q.e)({OpenSans_400Regular:Q.a,OpenSans_600SemiBold:Q.b}),$=r()(Z,1)[0];return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.KEY"));case 2:null!==(e=t.sent)?(S(e),j(!0)):j(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[K]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.VAX"));case 2:null!==(e=t.sent)?(f(e),M(!0)):M(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[P]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.CONTACTKEY"));case 2:null!==(e=t.sent)?(B(e),Y(!0)):Y(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[W]),Object(i.useEffect)((function(){!1===P&&!1===K&&!1===W&&t.dispatch(E.StackActions.replace("Home"))}),[P,K,W]),l.a.createElement(y.a,{style:w.scrollStyle},J||$?l.a.createElement(s.a,{style:w.containerTop},l.a.createElement(s.a,{style:[w.center,{alignSelf:"center",backgroundColor:"#f9f9f9",padding:20,paddingBottom:20,marginBottom:25,marginTop:5,width:"100%",maxWidth:650,borderRadius:10,borderWidth:1,borderColor:"#dadada"}]},l.a.createElement(p.a,null,l.a.createElement(p.a,{style:{fontSize:18,alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold",color:"#919191",display:"block"}},"Guide"),"\n",l.a.createElement(p.a,{style:{fontSize:14,color:"#919191"}},"\u2022"),l.a.createElement(p.a,{style:_.infoPoints}," ","SafeKey Wallet currently supports three QR Codes. Vaccination Certificate, SafeKey and Contact Tracing Key."),"\n",l.a.createElement(p.a,{style:{display:"block"}}," "),l.a.createElement(p.a,{style:{fontSize:14,color:"#919191"}},"\u2022"),l.a.createElement(p.a,{style:_.infoPoints}," ","Select the QR you want to present. Read the information on the next screen carefully, then continue."),"\n",l.a.createElement(p.a,{style:{display:"block"}}," "),l.a.createElement(p.a,{style:{fontSize:14,color:"#919191"}},"\u2022"),l.a.createElement(p.a,{style:_.infoPoints}," ","When your SafeKey expires, you can add another by first deleting the expired one, then clicking the plus button and selecting either the camera button or the document button."))),P?l.a.createElement(D,{name:"Vaccination Certificate",type:"BM.VAX",removeItem:function(){M(!1)},infoScreen:"Vaccination Notice",data:m}):l.a.createElement(p.a,null),K?l.a.createElement(D,{name:"SafeKey",type:"BM.KEY",removeItem:function(){j(!1)},infoScreen:"SafeKey Notice",data:b}):l.a.createElement(p.a,null),W?l.a.createElement(D,{name:"Contact Tracing Key",type:"BM.CONTACTKEY",removeItem:function(){Y(!1)},infoScreen:"Contact Tracing Notice",data:T}):l.a.createElement(p.a,null),!0!==P||!0!==K||!0!==W?l.a.createElement(s.a,{style:{position:"sticky",alignSelf:"flex-end"}},l.a.createElement(F.b,{slideSpeed:500,direction:"left",spacing:8,isOpen:X,style:(_.btnCircle,w.shadow)},l.a.createElement(F.c,{iconResting:l.a.createElement(L.a,{name:"plus",size:24,color:"white"}),iconActive:l.a.createElement(z.a,{name:"close-outline",size:24,color:"white"}),background:"#1971ef",onClick:function(){return G(!X)},size:56}),l.a.createElement(F.a,{icon:l.a.createElement(u.a,{id:"camera",style:{height:20,width:20},source:n(215)}),background:"#1971ef",size:40,onClick:function(){G(!X),t.navigate("Scan QR")}}),l.a.createElement(F.a,{icon:l.a.createElement(u.a,{style:{width:20,height:20},source:n(130)}),background:"#1971ef",size:40,onClick:function(){G(!X),t.navigate("Select Document")}}))):l.a.createElement(p.a,null)):l.a.createElement(x,null))},Y=n(69),H=function(e){var t=e.navigation,n=Object(i.useState)(null),a=r()(n,2),o=a[0],u=a[1],m=Object(i.useState)(!1),f=r()(m,2),d=f[0],b=f[1],S=Object(i.useState)(!1),x=r()(S,2),v=x[0],C=x[1];Y.a.isAvailableAsync().then((function(e){e&&C(!0)}));return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.KEY"));case 2:e=t.sent,u(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(i.useEffect)((function(){!1===o&&t.dispatch(E.StackActions.replace("QR List"))}),[o]),l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{contentContainerStyle:{margin:"auto"},style:[w.scrollStyle]},l.a.createElement(s.a,{style:w.container},l.a.createElement(s.a,null,l.a.createElement(p.a,{style:w.noticeHeader},"By allowing your SafeKey to be scanned you're agreeing to share the following information:"),l.a.createElement(p.a,{style:w.li},"1. Initials","\n","2. Date of Birth","\n","3. Expiry")),l.a.createElement(g.a,{onPress:function(){d&&c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(h.a.setItem("no_notice_safekey",!0));case 2:case"end":return e.stop()}}),null,null,null,Promise),t.navigate("SafeKey QR")},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",maxWidth:350,marginBottom:25}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Continue")),l.a.createElement(l.a.Fragment,null,v?l.a.createElement(s.a,{style:[w.center,{flexDirection:"row",marginBottom:10}]},l.a.createElement(p.a,{style:[w.text,{marginEnd:8}]},"Don't show again"),l.a.createElement(Y.a,{value:d,onValueChange:b})):null))))},U=function(e){var t=e.navigation,n=Object(i.useState)(null),a=r()(n,2),o=a[0],u=a[1],m=Object(i.useState)(!1),f=r()(m,2),d=f[0],b=f[1],S=Object(i.useState)(!1),x=r()(S,2),v=x[0],C=x[1];Y.a.isAvailableAsync().then((function(e){e&&C(!0)}));return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.VAX"));case 2:e=t.sent,u(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(i.useEffect)((function(){!1===o&&t.dispatch(E.StackActions.replace("QR List"))}),[o]),l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{contentContainerStyle:{margin:"auto"},style:[w.scrollStyle]},l.a.createElement(s.a,{style:w.container},l.a.createElement(s.a,null,l.a.createElement(p.a,{style:w.noticeHeader},"By allowing your Vaccination Certificate to be scanned you're agreeing to share the following information:"),l.a.createElement(p.a,{style:w.li},"1. Full Name","\n","2. Date of Birth","\n","3. Expiry","\n","4. Vaccine Type","\n","5. Vaccine Dosage","\n","6. Date of Vaccination")),l.a.createElement(g.a,{onPress:function(){d&&c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(h.a.setItem("no_notice_vaccine",!0));case 2:case"end":return e.stop()}}),null,null,null,Promise),t.navigate("Vaccination Certificate QR")},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",maxWidth:350,marginBottom:25}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Continue")),l.a.createElement(l.a.Fragment,null,v?l.a.createElement(s.a,{style:[w.center,{flexDirection:"row",marginBottom:10}]},l.a.createElement(p.a,{style:[w.text,{marginEnd:8}]},"Don't show again"),l.a.createElement(Y.a,{value:d,onValueChange:b})):null))))},X=function(e){var t=e.navigation,n=Object(i.useState)(null),a=r()(n,2),o=a[0],u=a[1],m=Object(i.useState)(!1),f=r()(m,2),d=f[0],b=f[1],S=Object(i.useState)(!1),x=r()(S,2),v=x[0],C=x[1];Y.a.isAvailableAsync().then((function(e){e&&C(!0)}));return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.CONTACTKEY"));case 2:e=t.sent,u(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(i.useEffect)((function(){!1===o&&t.dispatch(E.StackActions.replace("QR List"))}),[o]),l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{contentContainerStyle:{margin:"auto"},style:[w.scrollStyle]},l.a.createElement(s.a,{style:w.container},l.a.createElement(s.a,null,l.a.createElement(p.a,{style:w.noticeHeader},"By allowing your Contact Tracing Key to be scanned you're agreeing to share the following information:"),l.a.createElement(p.a,{style:w.li},"1. Initials","\n","2. Date of Birth","\n","3. Expiry")),l.a.createElement(g.a,{onPress:function(){d&&c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(h.a.setItem("no_notice_contact",!0));case 2:case"end":return e.stop()}}),null,null,null,Promise),t.navigate("Contact Tracing Key QR")},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",maxWidth:350,marginBottom:25}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Continue")),l.a.createElement(l.a.Fragment,null,v?l.a.createElement(s.a,{style:[w.center,{flexDirection:"row",marginBottom:10}]},l.a.createElement(p.a,{style:[w.text,{marginEnd:8}]},"Don't show again"),l.a.createElement(Y.a,{value:d,onValueChange:b})):null))))},G=n(110),q=function(e){var t=e.navigation,a=Object(i.useState)(null),o=r()(a,2),m=o[0],f=o[1],d=Object(i.useState)(null),b=r()(d,2),S=b[0],v=b[1],C=Object(i.useState)(null),O=r()(C,2),T=O[0],B=O[1];return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.KEY"));case 2:null!==(e=t.sent)?(f(!0),v(e)):f(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[m]),Object(i.useEffect)((function(){!1===m&&t.dispatch(E.StackActions.replace("QR List"))}),[m]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("passExpiry"));case 2:null!==(e=t.sent)&&B(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),l.a.createElement(l.a.Fragment,null,S?l.a.createElement(y.a,{contentContainerStyle:{margin:"auto"},style:w.scrollStyle},l.a.createElement(s.a,{style:w.container},l.a.createElement(p.a,{style:w.QrHeader},"SafeKey"),l.a.createElement(s.a,{style:w.center},l.a.createElement(s.a,{style:[w.center,{borderWidth:5,borderColor:"#63acfa"}]},l.a.createElement(u.a,{style:w.bmQrLogo,source:n(95)}),l.a.createElement(G.a,{value:S,size:250,quietZone:10,color:"#121212"})),T?l.a.createElement(p.a,{style:[w.bold,{marginTop:20,fontSize:18}]},"Expiry:"," ",l.a.createElement(p.a,{style:[w.text,{fontSize:18}]},T)):l.a.createElement(p.a,null)),l.a.createElement(g.a,{onPress:function(){return t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",marginTop:20,marginBottom:25,maxWidth:250}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Go Back")))):l.a.createElement(x,null))},J=function(e){var t=e.navigation,a=Object(i.useState)(null),o=r()(a,2),m=o[0],f=o[1],d=Object(i.useState)(null),b=r()(d,2),S=b[0],v=b[1];return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.VAX"));case 2:null!==(e=t.sent)?(f(!0),v(e)):f(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[m]),Object(i.useEffect)((function(){!1===m&&t.dispatch(E.StackActions.replace("QR List"))}),[m]),l.a.createElement(l.a.Fragment,null,S?l.a.createElement(y.a,{contentContainerStyle:{margin:"auto"},style:w.scrollStyle},l.a.createElement(s.a,{style:w.container},l.a.createElement(p.a,{style:w.QrHeader},"Vaccination Certificate"),l.a.createElement(s.a,{style:w.center},l.a.createElement(s.a,{style:[w.center,{borderWidth:5,borderColor:"#fc9cc7"}]},l.a.createElement(u.a,{style:w.bmQrLogo,source:n(95)}),l.a.createElement(G.a,{value:S,size:250,quietZone:10,color:"#121212"}))),l.a.createElement(g.a,{onPress:function(){return t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",marginTop:30,marginBottom:25,maxWidth:250}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Go Back")))):l.a.createElement(x,null))},Z=function(e){var t=e.navigation,a=Object(i.useState)(null),o=r()(a,2),m=o[0],f=o[1],d=Object(i.useState)(null),b=r()(d,2),S=b[0],v=b[1],C=Object(i.useState)(),O=r()(C,2),T=O[0],B=O[1];return Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("BM.CONTACTKEY"));case 2:null!==(e=t.sent)?(f(!0),v(e)):f(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[m]),Object(i.useEffect)((function(){!1===m&&t.dispatch(E.StackActions.replace("QR List"))}),[m]),Object(i.useEffect)((function(){try{!function(){var e;c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(h.a.getItem("contactExpiry"));case 2:null!==(e=t.sent)&&B(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),l.a.createElement(l.a.Fragment,null,S?l.a.createElement(y.a,{contentContainerStyle:{margin:"auto"},style:w.scrollStyle},l.a.createElement(s.a,{style:[w.container]},l.a.createElement(p.a,{style:w.QrHeader},"Contact Tracing Key"),l.a.createElement(s.a,{style:w.center},l.a.createElement(s.a,{style:[w.center,{borderWidth:5,borderColor:"#66c45f"}]},l.a.createElement(u.a,{style:w.bmQrLogo,source:n(95)}),l.a.createElement(G.a,{value:S,size:250,quietZone:10,color:"#121212"})),T?l.a.createElement(p.a,{style:[w.bold,{marginTop:20,fontSize:18}]},"Expiry:"," ",l.a.createElement(p.a,{style:[w.text,{fontSize:18}]},T)):l.a.createElement(p.a,null)),l.a.createElement(g.a,{onPress:function(){return t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[w.btn,w.shadow,{backgroundColor:"#1971ef",marginTop:30,marginBottom:25,maxWidth:250}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Go Back")))):l.a.createElement(x,null))},$=function(e){var t=e.navigation;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{style:w.container},l.a.createElement(p.a,{style:{fontSize:30,fontFamily:"OpenSans_600SemiBold",marginBottom:10}},"Oops"),l.a.createElement(p.a,{style:[w.text,{textAlign:"center"}]},"The page you were looking for was not found."),l.a.createElement(g.a,{onPress:function(){t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"Home"}]}))},style:[w.shadow,w.btn,{backgroundColor:"#1971ef",marginTop:10}]},l.a.createElement(p.a,{style:[w.btnText,{color:"#fff"}]},"Go Back"))))},ee=n(94),te=n.n(ee),ne=S.a.create({image:{width:40,height:40,marginBottom:10},button:{backgroundColor:"#1971ef",paddingHorizontal:15,paddingVertical:5,borderRadius:5}}),ae=function(e){var t=e.navigation,a=Object(i.useState)(null),o=r()(a,2),c=o[0],m=o[1],f=Object(v.a)([n(221)]),d=r()(f,1)[0];return Object(i.useEffect)((function(){te.a.load((function(){te.a.browser.isChrome?m("https://support.google.com/chrome/answer/2693767"):te.a.browser.isEdge?m("https://help.doxy.me/en/articles/3867526-allow-access-to-camera-in-edge#:~:text=How%20to%20enable%20your,browser%20tab%20(CTRL%20%2B%20R)."):te.a.browser.isFirefox?m("https://support.mozilla.org/en-US/kb/camera-permissions"):te.a.browser.isOpera?m("https://help.opera.com/en/latest/web-preferences/#camera"):te.a.browser.isSafari&&m("https://help.cer.bo/support/solutions/articles/8000084621-allow-access-to-camera-in-safari-mobile-tablet-")}))}),[]),l.a.createElement(l.a.Fragment,null,d?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{style:w.container},l.a.createElement(u.a,{source:n(221),style:ne.image}),l.a.createElement(p.a,{style:[w.bold,{marginBottom:15,fontSize:18}]},"No access to camera"),l.a.createElement(p.a,{style:[w.text,{textAlign:"center",marginBottom:10}]},"Please enable camera access in your web browser\u2019s settings then try scanning again."),l.a.createElement(s.a,{style:[w.center,{flexDirection:"row"}]},l.a.createElement(g.a,{onPress:function(){O.a.openURL(c)},style:[w.center,{borderWidth:1,borderColor:"grey",borderRadius:5,paddingHorizontal:10,paddingVertical:5,marginRight:10}]},l.a.createElement(p.a,{style:{color:"blue"}},"Learn more")),l.a.createElement(g.a,{onPress:function(){t.dispatch(E.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[ne.button,w.shadow]},l.a.createElement(p.a,{style:{color:"white",textAlign:"center"}},"Go back"))))):l.a.createElement(x,null))},re=n(137),oe=n(272),ce=S.a.create({customBackdrop:{backgroundColor:"black",position:"sticky",height:"100vh",width:"100vw"},modalInnerView:{maxWidth:350,backgroundColor:"#fff",borderRadius:5,overflow:"hidden"},IconView:{overflow:"hidden",flexDirection:"row",marginVertical:30},AppIcon:{width:80,height:80,backgroundColor:"#f0f0f0",borderRadius:5,marginHorizontal:4,marginVertical:8}}),ie=function(e){var t=Object(i.useState)(!1),a=r()(t,2),o=a[0],c=a[1],m=e.show,f=e.onClose;return Object(i.useEffect)((function(){c(m)}),[m]),l.a.createElement(oe.a,{customBackdrop:l.a.createElement(re.a,{style:ce.customBackdrop}),animationIn:"fadeInDownBig",isVisible:o},l.a.createElement(s.a,{style:w.center},l.a.createElement(s.a,{style:[ce.modalInnerView,w.center]},l.a.createElement(s.a,{style:{position:"absolute",top:7,right:7}},l.a.createElement(g.a,{onPress:function(){return f()}},l.a.createElement(z.a,{name:"close-outline",size:28,color:"black"}))),l.a.createElement(s.a,{style:[ce.IconView,w.center]},l.a.createElement(s.a,{style:ce.AppIcon}),l.a.createElement(s.a,{style:ce.AppIcon}),l.a.createElement(s.a,{style:[ce.AppIcon,w.shadow,{marginRight:4,width:90,height:90,borderRadius:5}]},l.a.createElement(u.a,{source:n(414),style:[{borderRadius:5,width:90,height:90}]})),l.a.createElement(s.a,{style:ce.AppIcon}),l.a.createElement(s.a,{style:ce.AppIcon})),l.a.createElement(p.a,{style:[w.bold,{fontSize:20,fontFamily:"OpenSans_700Bold",marginBottom:20}]},"Install SafeKey Wallet"),l.a.createElement(p.a,{style:[w.text,{marginHorizontal:20,textAlign:"center",fontSize:16,marginBottom:20}]},"Install SafeKey Wallet on your home screen for quick and easy access when you're on the go."),l.a.createElement(s.a,{style:[w.center,{backgroundColor:"#f9f9f9",width:"100%",paddingVertical:15}]},l.a.createElement(p.a,{style:[w.center,w.text]},"Just tap",l.a.createElement(u.a,{style:{width:18,height:18,marginHorizontal:4,marginBottom:3},source:n(193)}),"then 'Add to Home Screen'")))))},le=S.a.create({container:{position:"absolute",bottom:0,left:0,right:0,height:50,backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingHorizontal:15},text:{color:"#0000008c"},btnText:{paddingHorizontal:12,paddingVertical:5,fontSize:14,color:"#fff"}}),se=function(e){var t=Object(i.useState)(!1),n=r()(t,2),a=n[0],o=n[1],u=Object(i.useState)(null),m=r()(u,2),f=m[0],y=m[1],h=Object(i.useState)(!1),E=r()(h,2),b=E[0],S=E[1];Object(i.useEffect)((function(){!function(){var e=window.navigator.userAgent,t=window.navigator.platform,n=null;-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?(n="Mac OS",S(!1)):-1!==["iPhone","iPad","iPod"].indexOf(t)?(n="iOS",S(!0)):-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?(n="Windows",S(!1)):/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux",S(!1)),y(n)}()}),[]),window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),window.deferredPrompt=e,"Android"===f&&S(!0)}));return window.addEventListener("appinstalled",(function(){S(!1),window.deferredPrompt=null,console.log("PWA was installed")})),l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{style:[le.container,{marginBottom:"env(safe-area-inset-bottom)",position:"sticky",bottom:0,filter:e.brightness}]},l.a.createElement(p.a,{style:le.text},"Version: 1.2.6"),!b||window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?l.a.createElement(l.a.Fragment,null):l.a.createElement(g.a,{onPress:function(){"iOS"===f?o(!0):"Android"===f?function(){var e,t;c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=window.deferredPrompt)||console.error("\ud83d\udc4e","The deferred prompt is not available."),e.prompt(),n.next=5,c.a.awrap(e.userChoice);case 5:t=n.sent,console.log("\ud83d\udc4d","User choice:",t.outcome),"accepted"===t.outcome?d.a("AppInstalled",{purpose:"User has installed PWA"}):"dismissed"===t.outcome&&console.log("User cancelled home screen install"),window.deferredPrompt=null;case 9:case"end":return n.stop()}}),null,null,null,Promise)}():console.error("Progressive web app installation is not supported on this device")},style:[w.center,{borderRadius:50,backgroundColor:"#1971ef",shadowColor:"#0a418f"}]},l.a.createElement(p.a,{style:[le.btnText]},"Install"))),l.a.createElement(ie,{onClose:function(){return o(!1)},show:a}))},ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var fe=Object(f.a)();function de(){var e=Object(i.useState)(!1),t=r()(e,2),a=t[0],o=t[1],f=Object(i.useState)(!1),p=r()(f,2),g=p[0],y=p[1],E=Object(i.useState)(void 0),b=r()(E,2),S=b[0],w=b[1],v=Object(Q.e)({OpenSans_400Regular:Q.a,OpenSans_600SemiBold:Q.b,OpenSans_700Bold:Q.c,OpenSans_800ExtraBold:Q.d}),O=r()(v,1)[0],T={prefixes:[],config:{screens:{Home:"","Select Document":"select-document","Scan QR":"qr-scanner","QR List":"wallet","SafeKey Notice":"safekey-notice","Vaccination Notice":"certificate-notice","Contact Tracing Notice":"contact-tracing-notice","SafeKey QR":"safekey","Vaccination Certificate QR":"vaccination-certificate","Contact Tracing Key QR":"contact-tracing-key",NoCamera:"NoCamera",NotFound:"*"}}};Object(i.useEffect)((function(){!function(){var e,t;c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.awrap(h.a.getItem("BM.KEY"));case 3:return e=n.sent,n.next=6,c.a.awrap(h.a.getItem("BM.VAX"));case 6:t=n.sent,null===e&&null===t||y(!0),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),alert("Failed to fetch the data from storage: "+n.t0);case 13:o(!0);case 14:case"end":return n.stop()}}),null,null,[[0,10]],Promise)}()}),[]);var k=Object(i.useRef)(),A=Object(i.useRef)();return l.a.createElement(B.a,{offset:75,swipeEnabled:!1},O&&a?l.a.createElement(m.a,{ref:k,onReady:function(){A.current=k.current.getCurrentRoute().name,w(k.current.getCurrentRoute().name)},onStateChange:function(){var e,t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=A.current,t=k.current.getCurrentRoute().name,e===t){n.next=10;break}return n.next=5,c.a.awrap(d.b(t));case 5:if(S!==t){n.next=9;break}return n.abrupt("return");case 9:w(t);case 10:A.current=t;case 11:case"end":return n.stop()}}),null,null,null,Promise)},linking:T,fallback:l.a.createElement(x,null)},l.a.createElement(fe.Navigator,{screenOptions:{headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"},headerRight:function(){return l.a.createElement(u.a,{resizeMethod:"auto",style:{width:23,height:35,margin:20},source:n(95)})}},initialRouteName:g?"QR List":"Home"},l.a.createElement(fe.Screen,{name:"Home",component:C,options:{headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},title:"SafeKey Wallet",headerTitle:" SafeKey Wallet",headerRight:function(){return l.a.createElement(s.a,{style:{flexDirection:"row-reverse",paddingRight:20,alignItems:"center"}},l.a.createElement(u.a,{resizeMethod:"auto",style:{width:23,height:35},source:n(95)}))}}}),l.a.createElement(fe.Screen,{name:"Select Document",component:K,options:{title:"Select Document",headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},headerTitle:" Select your SafeKey Document"}}),l.a.createElement(fe.Screen,{name:"QR List",component:W,options:{title:"SafeKey Wallet",headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},headerTitle:" SafeKey Wallet"}}),l.a.createElement(fe.Screen,{name:"Scan QR",options:{headerTitleAlign:"center",headerTitle:"Scan your SafeKey"},component:N}),l.a.createElement(fe.Screen,{name:"SafeKey Notice",component:H,options:{headerTitleAlign:"center",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"},headerTitle:"Notice"}}),l.a.createElement(fe.Screen,{name:"Vaccination Notice",component:U,options:{headerTitleAlign:"center",headerTitle:"Notice",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"}}}),l.a.createElement(fe.Screen,{name:"Contact Tracing Notice",component:X,options:{headerTitleAlign:"center",headerTitle:"Notice",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"}}}),l.a.createElement(fe.Screen,{options:{headerTitle:"Show QR",headerTitleAlign:"center"},name:"SafeKey QR",component:q}),l.a.createElement(fe.Screen,{options:{headerTitle:"Show QR",headerTitleAlign:"center"},name:"Vaccination Certificate QR",component:J}),l.a.createElement(fe.Screen,{options:{headerTitle:"Show QR",headerTitleAlign:"center"},name:"Contact Tracing Key QR",component:Z}),l.a.createElement(fe.Screen,{options:{headerTitle:"404: Not Found",headerTitleAlign:"center",title:"Page Not Found"},name:"NotFound",component:$}),l.a.createElement(fe.Screen,{options:{headerTitleAlign:"center",headerTitle:"No Camera Permission",title:"No Camera Permission"},name:"NoCamera",component:ae})),"Scan QR"===S?l.a.createElement(se,{brightness:"brightness(0)"}):l.a.createElement(se,null)):l.a.createElement(x,null))}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/service-worker.js";ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):me(t,e)}))}}()},290:function(e,t,n){n(291),e.exports=n(417)},331:function(e,t){},332:function(e,t){},333:function(e,t){},334:function(e,t){},335:function(e,t){},414:function(e,t,n){e.exports=n.p+"static/media/icon.1092b622.png"},95:function(e,t,n){e.exports=n.p+"static/media/bm-logo.57a3e983.svg"}},[[290,1,2]]]);
//# sourceMappingURL=app.99b3e525.chunk.js.map