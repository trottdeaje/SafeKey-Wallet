(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports=n.p+"static/media/bm-logo.57a3e983.svg"},139:function(e,t,n){e.exports=n.p+"static/media/file-text.a031f6ff.png"},210:function(e,t,n){e.exports=n.p+"static/media/share-min.31430806.svg"},213:function(e,t,n){e.exports=n.p+"static/media/qr-background.83209ff7.svg"},228:function(e,t){},232:function(e,t,n){e.exports=n.p+"static/media/camera.c560f04f.png"},238:function(e,t,n){e.exports=n.p+"static/media/nocam.3d6e5311.png"},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ee}));var a=n(2),r=n.n(a),o=n(6),c=n.n(o),i=n(3),l=n.n(i),s=n(0),u=n.n(s),m=n(1),f=n(29),d=n(11),p=n(245),g=n(239),y=n(289),h=n(65),E=n(10),b=n(26),w=n(22),S=n(21),x=n(140),v=n(4),O=v.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",paddingHorizontal:20,paddingBottom:30},containerTop:{flex:1,backgroundColor:"#fff",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:20,paddingTop:20,flexWrap:"wrap",width:"100%",marginBottom:120},btn:{width:"100%",maxWidth:500,borderRadius:10,paddingVertical:11},btnLine:{borderWidth:2.5,borderColor:"#1971ef"},btnText:{textAlign:"center",fontSize:18},bold:{textAlign:"center",color:"#333",fontFamily:"OpenSans_600SemiBold"},shadow:{shadowColor:"#470000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:5,elevation:2},text:{color:"#333",fontFamily:"OpenSans_400Regular",fontSize:14},li:{alignSelf:"flex-start",color:"black",fontFamily:"OpenSans_400Regular",lineHeight:30,marginBottom:30,fontSize:18,textAlign:"left",marginLeft:0,color:"#333333"},noticeHeader:{fontFamily:"OpenSans_600SemiBold",fontSize:19,marginBottom:25,marginTop:25,alignSelf:"flex-start",color:"#333333"},QrHeader:{fontSize:24,fontWeight:"bold",marginBottom:30,marginTop:25,color:"#000",textAlign:"center"},center:{display:"flex",justifyContent:"center",alignItems:"center"},bmQrLogo:{width:55,height:80,position:"absolute"}}),C=function(){return u.a.createElement(m.a,{style:[O.container,{marginBottom:0,paddingHorizontal:0}]},u.a.createElement(x.a,{color:"#000f0f"}))},T=n(442),B=n(143),k=n(290),j=n(441),A=v.a.create({customBackdrop:{backgroundColor:"black",position:"sticky",height:"100vh",width:"100vw"},modalInnerView:{maxWidth:350,backgroundColor:"#fff",borderRadius:5,overflow:"hidden"},IconView:{overflow:"hidden",flexDirection:"row",marginVertical:30},AppIcon:{width:80,height:80,backgroundColor:"#f0f0f0",borderRadius:5,marginHorizontal:4,marginVertical:8}}),K=function(e){var t=Object(s.useState)(!1),a=c()(t,2),r=a[0],o=a[1],i=e.show,l=e.onClose;return Object(s.useEffect)((function(){o(i)}),[i]),u.a.createElement(k.a,{customBackdrop:u.a.createElement(B.a,{style:A.customBackdrop}),animationIn:"fadeInDownBig",isVisible:r},u.a.createElement(m.a,{style:O.center},u.a.createElement(m.a,{style:[A.modalInnerView,O.center]},u.a.createElement(m.a,{style:{position:"absolute",top:7,right:7}},u.a.createElement(b.a,{onPress:function(){return l()}},u.a.createElement(j.a,{name:"close-outline",size:28,color:"black"}))),u.a.createElement(m.a,{style:[A.IconView,O.center]},u.a.createElement(m.a,{style:A.AppIcon}),u.a.createElement(m.a,{style:A.AppIcon}),u.a.createElement(m.a,{style:[A.AppIcon,O.shadow,{marginRight:4,width:90,height:90,borderRadius:5}]},u.a.createElement(f.a,{source:n(339),style:[{borderRadius:5,width:90,height:90}]})),u.a.createElement(m.a,{style:A.AppIcon}),u.a.createElement(m.a,{style:A.AppIcon})),u.a.createElement(E.a,{style:[O.bold,{fontSize:20,fontFamily:"OpenSans_700Bold",marginBottom:20}]},"Install SafeKey Wallet"),u.a.createElement(E.a,{style:[O.text,{marginHorizontal:20,textAlign:"center",fontSize:16,marginBottom:20}]},"Install SafeKey Wallet on your home screen for quick and easy access when you're on the go."),u.a.createElement(m.a,{style:[O.center,{backgroundColor:"#f9f9f9",width:"100%",paddingVertical:15}]},u.a.createElement(E.a,{style:[O.center,O.text]},"Just tap",u.a.createElement(f.a,{style:{width:18,height:18,marginHorizontal:4,marginBottom:3},source:n(210)}),"then 'Add to Home Screen'")))))},R=v.a.create({container:{position:"absolute",bottom:0,left:0,right:0,height:50,backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingHorizontal:15},text:{color:"#0000008c"},btnText:{paddingHorizontal:12,paddingVertical:5,fontSize:14,color:"#fff"}}),P=function(){var e=Object(s.useState)(!1),t=c()(e,2),n=t[0],a=t[1],r=Object(s.useState)(null),o=c()(r,2),i=o[0],f=o[1],d=Object(s.useState)(!1),p=c()(d,2),g=p[0],y=p[1];Object(s.useEffect)((function(){!function(){var e=window.navigator.userAgent,t=window.navigator.platform,n=null;-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?(n="Mac OS",y(!1)):-1!==["iPhone","iPad","iPod"].indexOf(t)?(n="iOS",y(!0)):-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?(n="Windows",y(!1)):/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux",y(!1)),f(n)}()}),[]),window.addEventListener("beforeinstallprompt",(function(e){window.deferredPrompt=e,"Android"===i&&y(!0)}));return window.addEventListener("appinstalled",(function(){y(!1),window.deferredPrompt=null,h.a("AppInstalled",{purpose:"User has installed PWA"}),console.log("PWA was installed")})),u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:[R.container,{marginBottom:"env(safe-area-inset-bottom)",position:"sticky"}]},u.a.createElement(E.a,{style:R.text},"Version: 1.2.4"),!g||window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?u.a.createElement(u.a.Fragment,null):u.a.createElement(b.a,{onPress:function(){"iOS"===i?a(!0):"Android"===i?function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=window.deferredPrompt)||console.error("\ud83d\udc4e","The deferred prompt is not available."),e.prompt(),t.next=5,l.a.awrap(e.userChoice);case 5:t.sent,window.deferredPrompt=null;case 7:case"end":return t.stop()}}),null,null,null,Promise)}():console.error("Progressive web app installation is not supported on this device")},style:[O.center,{borderRadius:50,backgroundColor:"#1971ef",shadowColor:"#0a418f"}]},u.a.createElement(E.a,{style:[R.btnText]},"Install"))),u.a.createElement(K,{onClose:function(){return a(!1)},show:n}))},I=function(e){var t=e.navigation,a=Object(s.useState)(null),r=c()(a,2),o=r[0],i=r[1],d=Object(s.useState)(null),p=c()(d,2),g=p[0],y=p[1],h=Object(s.useState)(null),x=c()(h,2),v=x[0],B=x[1],k=Object(T.a)([n(213),n(100),n(210)]),j=c()(k,1)[0];return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.KEY"));case 2:e=t.sent,i(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.VAX"));case 2:e=t.sent,y(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[g]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.CONTACTKEY"));case 2:e=t.sent,B(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[v]),Object(s.useEffect)((function(){!0!==g&&!0!==o&&!0!==v||t.dispatch(S.StackActions.replace("QR List"))}),[g,o,v]),u.a.createElement(u.a.Fragment,null,j?u.a.createElement(m.a,{style:[O.container,{paddingBottom:50}]},u.a.createElement(m.a,null,u.a.createElement(f.a,{resizeMethod:"auto",style:{height:150,width:170,marginTop:25},source:n(213)})),u.a.createElement(E.a,{style:[O.bold,{marginBottom:2,fontSize:18}]},"No SafeKeys found"),u.a.createElement(E.a,{style:[O.text,{marginTop:0,marginBottom:15,textAlign:"center"}]},"Press Scan or Select to add one."),u.a.createElement(b.a,{onPress:function(){t.navigate("Scan QR")},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",borderWidth:0}]},u.a.createElement(E.a,{style:[O.btnText,{color:"white"}]},"Scan Document")),u.a.createElement(b.a,{style:[O.btn,O.shadow,O.btnLine,{backgroundColor:"#fff",marginTop:16}],onPress:function(){t.navigate("Select Document")}},u.a.createElement(E.a,{style:[O.btnText,{color:"#1971ef"}]},"Select Document"))):u.a.createElement(C,null),u.a.createElement(P,null))},M=n(62),N=n(294),V=n(113),D=n(277),z=n(278),F=function(e){var t=e.navigation,a=Object(s.useState)(""),r=c()(a,2),o=r[0],i=r[1],d=Object(V.b)(),p=Object(T.a)([n(139)]),g=c()(p,1)[0],y=Object(s.useState)(!1),x=c()(y,2),v=x[0],B=x[1];return u.a.createElement(u.a.Fragment,null,g?u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:O.container},u.a.createElement(E.a,{style:{textAlign:"center",marginBottom:.5,fontSize:16,marginBottom:16,lineHeight:24}},"Add your SafeKey to your wallet by selecting your"," ",u.a.createElement(E.a,{style:{fontWeight:"bold"}},"SafeKey, "),u.a.createElement(E.a,{style:{fontWeight:"bold"}},"Contact Tracing Key "),"or"," ",u.a.createElement(E.a,{style:{fontWeight:"bold"}},"Vaccination Certificate PDF Document.")),u.a.createElement(E.a,{style:[O.text,{fontWeight:"bold",marginTop:15,marginBottom:15,textAlign:"center"}]},"Select your PDF Document"),u.a.createElement(b.a,{disabled:v,style:[O.btn,O.shadow,{backgroundColor:v?"#1a73ef80":"#1971ef"}],onPress:function(){var e,n,a;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.awrap(N.a({type:"application/pdf"}));case 3:"cancel"!==(e=r.sent).type&&(a=function(e){if("Invalid PDF structure."===e.message)return i(u.a.createElement(m.a,{style:{marginTop:15}},u.a.createElement(E.a,{style:[O.text,{color:"#d71f2e",textAlign:"center"}]},"Invalid file type. Please select a valid SafeKey PDF file."))),void B(!1);if(0===e.codes.length)return console.error("No QR Found"),i(u.a.createElement(m.a,{style:{marginTop:15}},u.a.createElement(E.a,{style:[O.text,{color:"#d71f2e",textAlign:"center"}]},"SafeKey QR Code not detected. Please try again."))),void B(!1);!function(){var n,a,r,o,c,s,f,p,g,y,x,v,C,T,k,j,A,K,R,P,I;l.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(n=e.codes.toString(),a=[":BM.KEY:",":BM.CONTACTKEY:"],![":BM.KEY:",":BM.VAX:",":BM.CONTACTKEY:"].some((function(e){return n.includes(e)}))){N.next=43;break}if(!a.some((function(e){return n.includes(e)}))){N.next=34;break}if(r=n.indexOf(":"),r+=1,o=n.indexOf(":",r+1),c=n.substring(r,o),s="BM.KEY"===c?n.indexOf(":",130):"BM.CONTACTKEY"===c?n.indexOf(":",142):null,f=n.indexOf("/"),p=n.substring(s,f),g=p.slice(1),isNaN(g)){N.next=33;break}if(y=parseInt(g.substr(0,4),10),x=parseInt(g.substr(6),10),v=parseInt(g.substr(4,2),10),C=new Date(y,v-1,x),T=function(e){return e.toISOString().slice(0,10)},k=Date.parse(T(new Date)),j=Date.parse(y+"/"+v+"/"+x),864e5,!(j+864e5<=k)){N.next=25;break}return B(!1),N.abrupt("return",i(u.a.createElement(m.a,{style:[O.center,{width:"100%",maxWidth:500,marginTop:20,padding:10,textAlign:"center"}]},u.a.createElement(E.a,{style:[O.text,{color:"red",fontFamily:"OpenSans_600SemiBold"}]},"BM.KEY"===c?"This SafeKey has expired. Click the button below to visit the SafeKey renewal page.":"BM.CONTACTKEY"===c?"This Contact Tracing Key has expired. Click the button below to visit the SafeKey renewal page.":""),u.a.createElement(b.a,{style:[O.btn,O.shadow,O.btnLine,{marginTop:10}],onPress:function(){return M.a.openURL("https://www.gov.bm/safekey")}},u.a.createElement(E.a,{style:[O.btnText,{color:"#1971ef"}]},"Renew")))));case 25:return A={weekday:"long",year:"numeric",month:"long",day:"numeric"},K=C.toLocaleString("en-US",A),N.next=29,l.a.awrap(w.a.setItem("BM.KEY"===c?"passExpiry":"contactExpiry",K));case 29:return N.next=31,l.a.awrap(w.a.setItem("BM.KEY"===c?"passExpiryRaw":"contactExpiryRaw",""+j));case 31:N.next=34;break;case 33:console.error("parsed date is not a number");case 34:return R=n.indexOf(":"),R+=1,P=n.indexOf(":",R+1),I=n.substring(R,P),N.next=40,l.a.awrap(w.a.setItem(I,n));case 40:h.a("DocumentAdded",{type:"BM.KEY"===I?"SafeKey":"BM.VAX"===I?"Vaccination Certificate":"BM.CONTACTKEY"===I?"Contact Tracing Key":"",purpose:"User has added their SafeKey PDF document"}),t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"QR List"}]})),d.show(u.a.createElement(m.a,null,u.a.createElement(E.a,{style:[O.bold,{color:"#fff"}]},"BM.KEY"===I?"SafeKey added":"BM.VAX"===I?"Vaccination Certificate added":"BM.CONTACTKEY"===I?"Contact Tracing Key added":"")),{id:3,type:"success",duration:3500,animationType:"zoom-in"});case 43:case"end":return N.stop()}}),null,null,null,Promise)}()},1,n={scale:{once:!0,value:5,start:.2,step:.2,stop:2},resultOpts:{singleCodeInPage:!0,multiCodesInPage:!1,maxCodesInPage:1},improve:!0,jsQR:{}},i(u.a.createElement(m.a,{style:{marginTop:20}},u.a.createElement(z.ClipLoader,{size:"14px",color:"#1971ef"}))),B(!0),D.PDF_QR_JS.decodeSinglePage(e.uri,1,n,a)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),null,null,[[0,7]],Promise)}},u.a.createElement(E.a,{style:[O.center,{textAlign:"center",color:"white",fontSize:17}]},u.a.createElement(f.a,{style:{width:20,height:20,marginRight:8},source:n(139)}),"Select")),u.a.createElement(E.a,null,o||u.a.createElement(m.a,{style:{height:38,backgroundColor:"#fff"}}))),u.a.createElement(P,null)):u.a.createElement(C,null))},Q=n(28),L=n(279),W=n.n(L),_=Q.a.get("window"),Y=Q.a.get("screen"),H=function(e){var t=e.navigation,n=Object(s.useState)(!1),a=c()(n,2),r=a[0],o=a[1],i=Object(s.useState)("environment"),f=c()(i,2),d=f[0],p=f[1],g=Object(s.useState)(!1),y=c()(g,2),x=y[0],v=y[1],C=Object(s.useState)({window:_,screen:Y}),T=c()(C,2),B=T[0],k=T[1],j=Object(V.b)(),A=function(e){var t=e.window,n=e.screen;k({window:t,screen:n})};Object(s.useEffect)((function(){return Q.a.addEventListener("change",A),function(){Q.a.removeEventListener("change",A)}}));return u.a.createElement(m.a,{style:[O.container,{backgroundColor:"#000",marginBottom:0}]},u.a.createElement(m.a,{style:[O.center,{backgroundColor:"#000",fontSize:16,lineHeight:50,textAlign:"center",position:"relative",textAlignVertical:"center",margin:0,zIndex:10,fontSize:16,flex:1,minHeight:80}]},u.a.createElement(E.a,{style:{color:"#f1f1f1",marginBottom:5,marginTop:15}},"Scan your SafeKey Document QR code"),u.a.createElement(E.a,{style:{color:"#f1f1f1"}},"Keep camera steady"),u.a.createElement(E.a,{style:{color:x?"#ffbb33":"#28a745",marginTop:10,fontFamily:"OpenSans_600SemiBold"}},x?"INVALID QR":"SCANNING")),u.a.createElement(W.a,{facingMode:d,onLoad:function(){console.log("QR Reader Loaded")},delay:300,onError:function(e){console.log(e.name),"NotAllowedError"===e.name&&t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"NoCamera"}]}))},onScan:function(e){r||function(e){var n,a,r,c,i,s,f,d,p,g,y,x,C,T,B,k,A,K,R,P,I;l.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(n=[":BM.KEY:",":BM.VAX:","BM.CONTACTKEY"],a=[":BM.KEY:","BM.CONTACTKEY"],null===e){N.next=49;break}if(!n.some((function(t){return e.includes(t)}))){N.next=46;break}if(!a.some((function(t){return e.includes(t)}))){N.next=34;break}if(r=e.indexOf(":"),r+=1,c=e.indexOf(":",r+1),i=e.substring(r,c),s="BM.KEY"===i?e.indexOf(":",130):"BM.CONTACTKEY"===i?e.indexOf(":",142):null,f=e.indexOf("/"),d=e.substring(s,f),p=d.slice(1),isNaN(p)){N.next=33;break}if(g=parseInt(p.substr(0,4),10),y=parseInt(p.substr(6),10),x=parseInt(p.substr(4,2),10),C=new Date(g,x-1,y),T=function(e){return e.toISOString().slice(0,10)},B=Date.parse(T(new Date)),k=Date.parse(g+"/"+x+"/"+y),864e5,!(k+864e5<=B)){N.next=25;break}return j.show(u.a.createElement(m.a,null,u.a.createElement(b.a,{onPress:function(){M.a.openURL("https://www.gov.bm/safekey"),j.hide(1)}},u.a.createElement(E.a,{style:[O.bold,{color:"#fff"}]},"BM.KEY"===i?"This SafeKey has expired":"BM.CONTACTKEY"===i?"This Contact Tracing Key has expired":""),u.a.createElement(E.a,{style:[O.text,{color:"#fff",textAlign:"center"}]},"Click here to renew it"))),{offsetBottom:50,id:1,position:"bottom",duration:8e3,type:"normal",normalColor:"#ff4d4d"}),N.abrupt("return",t.goBack());case 25:return A={weekday:"long",year:"numeric",month:"long",day:"numeric"},K=C.toLocaleString("en-US",A),N.next=29,l.a.awrap(w.a.setItem("BM.KEY"===i?"passExpiry":"contactExpiry",K));case 29:return N.next=31,l.a.awrap(w.a.setItem("BM.KEY"===i?"passExpiryRaw":"contactExpiryRaw",""+k));case 31:N.next=34;break;case 33:console.log("parsed date is not a number");case 34:return R=e.indexOf(":"),R+=1,P=e.indexOf(":",R+1),I=e.substring(R,P),N.next=40,l.a.awrap(w.a.setItem(I,e));case 40:o(!0),h.a("DocumentScanned",{type:"BM.KEY"===I?"SafeKey":"BM.VAX"===I?"Vaccination Certificate":"BM.CONTACTKEY"===I?"Contact Tracing Key":"",purpose:"User has scanned their SafeKey QR code."}),t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"QR List"}]})),j.show(u.a.createElement(m.a,null,u.a.createElement(E.a,{style:[O.bold,{color:"#fff"}]},"BM.KEY"===I?"SafeKey added":"BM.VAX"===I?"Vaccination Certificate added":"BM.CONTACTKEY"===I?"Contact Tracing Key added":"")),{id:3,type:"success",duration:3500,animationType:"zoom-in"}),N.next=47;break;case 46:v(!0);case 47:N.next=51;break;case 49:o(!1),v(!1);case 51:case"end":return N.stop()}}),null,null,null,Promise)}(e)},style:{width:B.window.width<565?"100%":510,alignSelf:"center"}}),u.a.createElement(m.a,{style:{width:"100%",flex:1,justifyContent:"center"}},u.a.createElement(b.a,{onPress:function(){p("environment"===d?"user":"environment")},style:{paddingHorizontal:10,alignSelf:"center",backgroundColor:"#1971ef",paddingVertical:10,borderRadius:5,marginBottom:25,marginTop:25}},u.a.createElement(E.a,{style:{color:"white",textAlign:"center",letterSpacing:1,fontFamily:"OpenSans_400Regular"}},"Switch Camera"))))},U=n(293),X=function(e){var t=Object(s.useState)("#000"),n=c()(t,2),a=n[0],r=n[1],o=Object(s.useState)("#000"),i=c()(o,2),f=i[0],d=i[1],p=Object(s.useState)(!1),g=c()(p,2),y=g[0],x=g[1],v=Object(s.useState)(!1),C=c()(v,2),T=C[0],B=C[1],k=Object(s.useState)(!1),A=c()(k,2),K=A[0],R=A[1],P=Object(s.useState)(!1),I=c()(P,2),N=I[0],V=I[1],D=Object(s.useState)(!1),z=c()(D,2),F=z[0],Q=z[1];Object(s.useEffect)((function(){try{!function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(w.a.getItem("passExpiryRaw"));case 2:null!==(e=a.sent)&&(t=function(e){return e.toISOString().slice(0,10)},n=Date.parse(t(new Date)),864e5,e>n||e==n?V(!1):parseInt(e)+864e5<=n&&V(!0));case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(s.useEffect)((function(){try{!function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(w.a.getItem("contactExpiryRaw"));case 2:null!==(e=a.sent)&&(t=function(e){return e.toISOString().slice(0,10)},n=Date.parse(t(new Date)),864e5,e>n||e==n?Q(!1):parseInt(e)+864e5<=n&&Q(!0));case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("no_notice_safekey"));case 2:null!==(e=t.sent)&&x(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("no_notice_vaccine"));case 2:null!==(e=t.sent)&&B(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("no_notice_contact"));case 2:null!==(e=t.sent)&&R(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]);var L=u.a.createRef(),W=function e(){L.current&&(L.current.style.display="none",document.removeEventListener("click",e))};Object(s.useEffect)((function(){"Vaccination Certificate"==e.name?(r("#fc9cc7"),d("#fc9cc7")):"SafeKey"==e.name?(r("#5299e1"),d("#66b0ff")):"Contact Tracing Key"==e.name&&(r("#f9b939"),d("#f9b939"))}),[e.name]);var _=Object(S.useNavigation)();return u.a.createElement(m.a,{style:{width:"100%"}},u.a.createElement(U.a,{start:{x:1,y:0},end:{x:0,y:0},colors:[a,f],style:[O.shadow,{width:"100%",marginBottom:15,paddingLeft:15,borderRadius:10}]},u.a.createElement(b.a,{style:{justifyContent:"space-between",flexDirection:"row",alignItems:"center"},onPress:function(){"SafeKey Notice"===e.infoScreen&&(y?_.navigate("SafeKey QR"):y||_.navigate("SafeKey Notice")),"Vaccination Notice"===e.infoScreen&&(T?_.navigate("Vaccination Certificate QR"):T||_.navigate("Vaccination Notice")),"Contact Tracing Notice"===e.infoScreen&&(K?_.navigate("Contact Tracing Key QR"):K||_.navigate("Contact Tracing Notice"))}},u.a.createElement(m.a,{style:{paddingVertical:15}},u.a.createElement(E.a,{style:{fontFamily:"OpenSans_600SemiBold",color:"white",textAlign:"left",fontSize:16}},e.name," ","SafeKey"===e.name&&!0===N||"Contact Tracing Key"===e.name&&!0===F?u.a.createElement(b.a,{onPress:function(){M.a.openURL("https://www.gov.bm/safekey")},style:[O.shadow,{backgroundColor:"#ae1613",paddingHorizontal:5,paddingVertical:2,borderRadius:5,marginLeft:2,margin:"auto",borderColor:"#fff"}]},"Expired"):u.a.createElement(E.a,null))),u.a.createElement(b.a,{onPress:function(){L.current.style.display="flex",document.addEventListener("click",W)},style:[O.center,{height:"100%",width:50,flexDirection:"row"}]},u.a.createElement(j.a,{name:"ios-ellipsis-vertical",size:24,color:"white"})),u.a.createElement(m.a,{style:[O.shadow,{display:"none",flexDirection:"column",backgroundColor:"#fff",borderRadius:5,position:"absolute",right:40,top:11}],ref:L},u.a.createElement(b.a,{onPress:function(){var t;t=e.type,l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"BM.KEY"!==t){e.next=10;break}return e.next=4,l.a.awrap(w.a.removeItem("passExpiry"));case 4:return e.next=6,l.a.awrap(w.a.removeItem("passExpiryRaw"));case 6:return e.next=8,l.a.awrap(w.a.removeItem("no_notice_safekey"));case 8:e.next=22;break;case 10:if("BM.VAX"!==t){e.next=15;break}return e.next=13,l.a.awrap(w.a.removeItem("no_notice_vaccine"));case 13:e.next=22;break;case 15:if("BM.CONTACTKEY"!==t){e.next=22;break}return e.next=18,l.a.awrap(w.a.removeItem("contactExpiry"));case 18:return e.next=20,l.a.awrap(w.a.removeItem("contactExpiryRaw"));case 20:return e.next=22,l.a.awrap(w.a.removeItem("no_notice_contact"));case 22:return e.next=24,l.a.awrap(w.a.removeItem(t));case 24:h.a("QrDeleted",{type:"BM.KEY"===t?"SafeKey":"Vaccination Certificate",purpose:"user deleted a safekey"}),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),alert(e.t0);case 30:case"end":return e.stop()}}),null,null,[[0,27]],Promise),e.removeItem()},style:{paddingHorizontal:20,paddingVertical:5}},u.a.createElement(E.a,{style:{fontFamily:"OpenSans_400Regular",color:"#dc3545"}},"Delete"))))))},G=n(69),q=n(137),J=n(443),Z=(n(434),v.a.create({btnCircle:{width:55,height:55,borderRadius:50,position:"absolute",bottom:20,right:20,backgroundColor:"#1971ef"},infoPoints:{fontSize:10,fontFamily:"OpenSans_400Regular",color:"#919191",marginBottom:-10}})),$=function(e){var t=e.navigation,a=Object(s.useState)(void 0),r=c()(a,2),o=r[0],i=r[1],d=Object(s.useState)(void 0),p=c()(d,2),g=p[0],y=p[1],h=Object(s.useState)(void 0),b=c()(h,2),x=b[0],v=b[1],B=Object(s.useState)(),k=c()(B,2),A=k[0],K=k[1],R=Object(s.useState)(),I=c()(R,2),M=I[0],N=I[1],V=Object(s.useState)(),D=c()(V,2),z=D[0],F=D[1],Q=Object(s.useState)(!1),L=c()(Q,2),W=L[0],_=L[1],Y=Object(T.a)([n(139),n(232)]),H=c()(Y,1)[0],U=Object(G.e)({OpenSans_400Regular:G.a,OpenSans_600SemiBold:G.b}),$=c()(U,1)[0];return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.KEY"));case 2:null!==(e=t.sent)?(y(e),K(!0)):K(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[A]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.VAX"));case 2:null!==(e=t.sent)?(i(e),N(!0)):N(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[M]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.CONTACTKEY"));case 2:null!==(e=t.sent)?(v(e),F(!0)):F(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[z]),Object(s.useEffect)((function(){!1===M&&!1===A&&!1===z&&t.dispatch(S.StackActions.replace("Home"))}),[M,A,z]),u.a.createElement(m.a,{style:{backgroundColor:"#fff",flex:1}},H||$?u.a.createElement(m.a,{style:O.containerTop},u.a.createElement(m.a,{style:[O.center,{alignSelf:"center",backgroundColor:"#f9f9f9",padding:20,paddingBottom:35,marginBottom:25,marginTop:5,width:"100%",maxWidth:650,borderRadius:10,borderWidth:1,borderColor:"#dadada"}]},u.a.createElement(E.a,null,u.a.createElement(E.a,{style:{fontSize:18,alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold",color:"#919191",display:"block"}},"Guide"),"\n",u.a.createElement(E.a,{style:{fontSize:14,color:"#919191"}},"\u2022"),u.a.createElement(E.a,{style:Z.infoPoints}," ","SafeKey Wallet currently supports three QR Codes. Vaccination Certificate, SafeKey and Contact Tracing Key."),"\n",u.a.createElement(E.a,{style:{display:"block"}}," "),u.a.createElement(E.a,{style:{fontSize:14,color:"#919191"}},"\u2022"),u.a.createElement(E.a,{style:Z.infoPoints}," ","Select the QR you want to present. Read the information on the next screen carefully, then continue."),"\n",u.a.createElement(E.a,{style:{display:"block"}}," "),u.a.createElement(E.a,{style:{fontSize:14,color:"#919191"}},"\u2022"),u.a.createElement(E.a,{style:Z.infoPoints}," ","When your SafeKey expires, you can add another by first deleting the expired one, then clicking the plus button and selecting either the camera button or the document button."))),M?u.a.createElement(X,{name:"Vaccination Certificate",type:"BM.VAX",removeItem:function(){N(!1)},infoScreen:"Vaccination Notice",data:o}):u.a.createElement(E.a,null),A?u.a.createElement(X,{name:"SafeKey",type:"BM.KEY",removeItem:function(){K(!1)},infoScreen:"SafeKey Notice",data:g}):u.a.createElement(E.a,null),z?u.a.createElement(X,{name:"Contact Tracing Key",type:"BM.CONTACTKEY",removeItem:function(){F(!1)},infoScreen:"Contact Tracing Notice",data:x}):u.a.createElement(E.a,null),!0!==M||!0!==A||!0!==z?u.a.createElement(m.a,{style:{position:"absolute",bottom:-60,right:20}},u.a.createElement(q.b,{slideSpeed:500,direction:"left",spacing:8,isOpen:W,style:(Z.btnCircle,O.shadow)},u.a.createElement(q.c,{iconResting:u.a.createElement(J.a,{name:"plus",size:24,color:"white"}),iconActive:u.a.createElement(j.a,{name:"close-outline",size:24,color:"white"}),background:"#1971ef",onClick:function(){return _(!W)},size:56}),u.a.createElement(q.a,{icon:u.a.createElement(f.a,{id:"camera",style:{height:20,width:20},source:n(232)}),background:"#1971ef",size:40,onClick:function(){_(!W),t.navigate("Scan QR")}}),u.a.createElement(q.a,{icon:u.a.createElement(f.a,{style:{width:20,height:20},source:n(139)}),background:"#1971ef",size:40,onClick:function(){_(!W),t.navigate("Select Document")}}))):u.a.createElement(E.a,null)):u.a.createElement(C,null),u.a.createElement(P,null))},ee=n(73),te=function(e){var t=e.navigation,n=Object(s.useState)(null),a=c()(n,2),r=a[0],o=a[1],i=Object(s.useState)(!1),f=c()(i,2),d=f[0],p=f[1],g=Object(s.useState)(!1),y=c()(g,2),h=y[0],x=y[1];ee.a.isAvailableAsync().then((function(e){e&&x(!0)}));return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.KEY"));case 2:e=t.sent,o(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[r]),Object(s.useEffect)((function(){!1===r&&t.dispatch(S.StackActions.replace("QR List"))}),[r]),u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:O.container},u.a.createElement(m.a,null,u.a.createElement(E.a,{style:O.noticeHeader},"By allowing your SafeKey to be scanned you're agreeing to share the following information:"),u.a.createElement(E.a,{style:O.li},"1. Initials","\n","2. Date of Birth","\n","3. Expiry")),u.a.createElement(b.a,{onPress:function(){d&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(w.a.setItem("no_notice_safekey",!0));case 2:case"end":return e.stop()}}),null,null,null,Promise),t.navigate("SafeKey QR")},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",maxWidth:350,marginBottom:25}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Continue")),u.a.createElement(u.a.Fragment,null,h?u.a.createElement(m.a,{style:[O.center,{flexDirection:"row"}]},u.a.createElement(E.a,{style:[O.text,{marginEnd:8}]},"Don't show again"),u.a.createElement(ee.a,{value:d,onValueChange:p})):null)),u.a.createElement(P,null))},ne=function(e){var t=e.navigation,n=Object(s.useState)(null),a=c()(n,2),r=a[0],o=a[1],i=Object(s.useState)(!1),f=c()(i,2),d=f[0],p=f[1],g=Object(s.useState)(!1),y=c()(g,2),h=y[0],x=y[1];ee.a.isAvailableAsync().then((function(e){e&&x(!0)}));return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.VAX"));case 2:e=t.sent,o(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[r]),Object(s.useEffect)((function(){!1===r&&t.dispatch(S.StackActions.replace("QR List"))}),[r]),u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:O.container},u.a.createElement(m.a,null,u.a.createElement(E.a,{style:O.noticeHeader},"By allowing your Vaccination Certificate to be scanned you're agreeing to share the following information:"),u.a.createElement(E.a,{style:O.li},"1. Full Name","\n","2. Date of Birth","\n","3. Expiry","\n","4. Vaccine Type","\n","5. Vaccine Dosage","\n","6. Date of Vaccination")),u.a.createElement(b.a,{onPress:function(){d&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(w.a.setItem("no_notice_vaccine",!0));case 2:case"end":return e.stop()}}),null,null,null,Promise),t.navigate("Vaccination Certificate QR")},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",maxWidth:350,marginBottom:25}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Continue")),u.a.createElement(u.a.Fragment,null,h?u.a.createElement(m.a,{style:[O.center,{flexDirection:"row"}]},u.a.createElement(E.a,{style:[O.text,{marginEnd:8}]},"Don't show again"),u.a.createElement(ee.a,{value:d,onValueChange:p})):null)),u.a.createElement(P,null))},ae=function(e){var t=e.navigation,n=Object(s.useState)(null),a=c()(n,2),r=a[0],o=a[1],i=Object(s.useState)(!1),f=c()(i,2),d=f[0],p=f[1],g=Object(s.useState)(!1),y=c()(g,2),h=y[0],x=y[1];ee.a.isAvailableAsync().then((function(e){e&&x(!0)}));return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.CONTACTKEY"));case 2:e=t.sent,o(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[r]),Object(s.useEffect)((function(){!1===r&&t.dispatch(S.StackActions.replace("QR List"))}),[r]),u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:O.container},u.a.createElement(m.a,null,u.a.createElement(E.a,{style:O.noticeHeader},"By allowing your Contact Tracing Key to be scanned you're agreeing to share the following information:"),u.a.createElement(E.a,{style:O.li},"1. ...","\n","2. ...","\n","3. Expiry","\n","4. ...","\n","5. ...","\n","6. ...")),u.a.createElement(b.a,{onPress:function(){d&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(w.a.setItem("no_notice_contact",!0));case 2:case"end":return e.stop()}}),null,null,null,Promise),t.navigate("Contact Tracing Key QR")},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",maxWidth:350,marginBottom:25}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Continue")),u.a.createElement(u.a.Fragment,null,h?u.a.createElement(m.a,{style:[O.center,{flexDirection:"row"}]},u.a.createElement(E.a,{style:[O.text,{marginEnd:8}]},"Don't show again"),u.a.createElement(ee.a,{value:d,onValueChange:p})):null)),u.a.createElement(P,null))},re=n(116),oe=function(e){var t=e.navigation,a=Object(s.useState)(null),r=c()(a,2),o=r[0],i=r[1],d=Object(s.useState)(null),p=c()(d,2),g=p[0],y=p[1],h=Object(s.useState)(null),x=c()(h,2),v=x[0],T=x[1];return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.KEY"));case 2:null!==(e=t.sent)?(i(!0),y(e)):i(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(s.useEffect)((function(){!1===o&&t.dispatch(S.StackActions.replace("QR List"))}),[o]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("passExpiry"));case 2:null!==(e=t.sent)&&T(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),u.a.createElement(u.a.Fragment,null,g?u.a.createElement(m.a,{style:O.container},u.a.createElement(E.a,{style:O.QrHeader},"SafeKey"),u.a.createElement(m.a,{style:O.center},u.a.createElement(m.a,{style:[O.center,{borderWidth:5,borderColor:"#63acfa"}]},u.a.createElement(f.a,{style:O.bmQrLogo,source:n(100)}),u.a.createElement(re.a,{value:g,size:300,quietZone:10,color:"#121212"})),v?u.a.createElement(E.a,{style:[O.bold,{marginTop:20,fontSize:18}]},"Expiry:"," ",u.a.createElement(E.a,{style:[O.text,{fontSize:18}]},v)):u.a.createElement(E.a,null)),u.a.createElement(b.a,{onPress:function(){return t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",marginTop:20,marginBottom:25,maxWidth:250}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Go Back"))):u.a.createElement(C,null),u.a.createElement(P,null))},ce=function(e){var t=e.navigation,a=Object(s.useState)(null),r=c()(a,2),o=r[0],i=r[1],d=Object(s.useState)(null),p=c()(d,2),g=p[0],y=p[1];return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.VAX"));case 2:null!==(e=t.sent)?(i(!0),y(e)):i(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(s.useEffect)((function(){!1===o&&t.dispatch(S.StackActions.replace("QR List"))}),[o]),u.a.createElement(u.a.Fragment,null,g?u.a.createElement(m.a,{style:O.container},u.a.createElement(E.a,{style:O.QrHeader},"Vaccination Certificate"),u.a.createElement(m.a,{style:O.center},u.a.createElement(m.a,{style:[O.center,{borderWidth:5,borderColor:"#fc9cc7"}]},u.a.createElement(f.a,{style:O.bmQrLogo,source:n(100)}),u.a.createElement(re.a,{value:g,size:300,quietZone:10,color:"#121212"}))),u.a.createElement(b.a,{onPress:function(){return t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",marginTop:30,marginBottom:25,maxWidth:250}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Go Back"))):u.a.createElement(C,null),u.a.createElement(P,null))},ie=function(e){var t=e.navigation,a=Object(s.useState)(null),r=c()(a,2),o=r[0],i=r[1],d=Object(s.useState)(null),p=c()(d,2),g=p[0],y=p[1],h=Object(s.useState)(),x=c()(h,2),v=x[0],T=x[1];return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("BM.CONTACTKEY"));case 2:null!==(e=t.sent)?(i(!0),y(e)):i(!1);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[o]),Object(s.useEffect)((function(){!1===o&&t.dispatch(S.StackActions.replace("QR List"))}),[o]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(w.a.getItem("contactExpiry"));case 2:null!==(e=t.sent)&&T(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[]),u.a.createElement(u.a.Fragment,null,g?u.a.createElement(m.a,{style:O.container},u.a.createElement(E.a,{style:O.QrHeader},"Contact Tracing Key"),u.a.createElement(m.a,{style:O.center},u.a.createElement(m.a,{style:[O.center,{borderWidth:5,borderColor:"#f9b939"}]},u.a.createElement(f.a,{style:O.bmQrLogo,source:n(100)}),u.a.createElement(re.a,{value:g,size:300,quietZone:10,color:"#121212"})),v?u.a.createElement(E.a,{style:[O.bold,{marginTop:20,fontSize:18}]},"Expiry:"," ",u.a.createElement(E.a,{style:[O.text,{fontSize:18}]},v)):u.a.createElement(E.a,null)),u.a.createElement(b.a,{onPress:function(){return t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[O.btn,O.shadow,{backgroundColor:"#1971ef",marginTop:30,marginBottom:25,maxWidth:250}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Go Back"))):u.a.createElement(C,null),u.a.createElement(P,null))},le=function(e){var t=e.navigation;return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:O.container},u.a.createElement(E.a,{style:{fontSize:30,fontFamily:"OpenSans_600SemiBold",marginBottom:10}},"Oops"),u.a.createElement(E.a,{style:[O.text,{textAlign:"center"}]},"The page you were looking for was not found."),u.a.createElement(b.a,{onPress:function(){t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"Home"}]}))},style:[O.shadow,O.btn,{backgroundColor:"#1971ef",marginTop:10}]},u.a.createElement(E.a,{style:[O.btnText,{color:"#fff"}]},"Go Back"))),u.a.createElement(P,null))},se=n(99),ue=n.n(se),me=v.a.create({image:{width:40,height:40,marginBottom:10},button:{backgroundColor:"#1971ef",paddingHorizontal:15,paddingVertical:5,borderRadius:5}}),fe=function(e){var t=e.navigation,a=Object(s.useState)(null),r=c()(a,2),o=r[0],i=r[1],l=Object(T.a)([n(238)]),d=c()(l,1)[0];return Object(s.useEffect)((function(){ue.a.load((function(){ue.a.browser.isChrome?i("https://support.google.com/chrome/answer/2693767"):ue.a.browser.isEdge?i("https://help.doxy.me/en/articles/3867526-allow-access-to-camera-in-edge#:~:text=How%20to%20enable%20your,browser%20tab%20(CTRL%20%2B%20R)."):ue.a.browser.isFirefox?i("https://support.mozilla.org/en-US/kb/camera-permissions"):ue.a.browser.isOpera?i("https://help.opera.com/en/latest/web-preferences/#camera"):ue.a.browser.isSafari&&i("https://help.cer.bo/support/solutions/articles/8000084621-allow-access-to-camera-in-safari-mobile-tablet-")}))}),[]),u.a.createElement(u.a.Fragment,null,d?u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{style:O.container},u.a.createElement(f.a,{source:n(238),style:me.image}),u.a.createElement(E.a,{style:[O.bold,{marginBottom:15,fontSize:18}]},"No access to camera"),u.a.createElement(E.a,{style:[O.text,{textAlign:"center",marginBottom:10}]},"Please enable camera access in your web browser\u2019s settings then try scanning again."),u.a.createElement(m.a,{style:[O.center,{flexDirection:"row"}]},u.a.createElement(b.a,{onPress:function(){M.a.openURL(o)},style:[O.center,{borderWidth:1,borderColor:"grey",borderRadius:5,paddingHorizontal:10,paddingVertical:5,marginRight:10}]},u.a.createElement(E.a,{style:{color:"blue"}},"Learn more")),u.a.createElement(b.a,{onPress:function(){t.dispatch(S.CommonActions.reset({index:0,routes:[{name:"QR List"}]}))},style:[me.button,O.shadow]},u.a.createElement(E.a,{style:{color:"white",textAlign:"center"}},"Go back")))),u.a.createElement(P,null)):u.a.createElement(C,null))},de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=Object(g.a)();function Ee(){var e=Object(s.useState)(!1),t=c()(e,2),a=t[0],r=t[1],o=Object(s.useState)(!1),i=c()(o,2),g=i[0],E=i[1],b=Object(G.e)({OpenSans_400Regular:G.a,OpenSans_600SemiBold:G.b,OpenSans_700Bold:G.c,OpenSans_800ExtraBold:G.d}),S=c()(b,1)[0],x={prefixes:[],config:{screens:{Home:"","Select Document":"select-document","Scan QR":"qr-scanner","QR List":"wallet","SafeKey Notice":"safekey-notice","Vaccination Notice":"certificate-notice","Contact Tracing Notice":"contact-tracing-notice","SafeKey QR":"safekey","Vaccination Certificate QR":"vaccination-certificate","Contact Tracing Key QR":"contact-tracing-key",NoCamera:"NoCamera",NotFound:"*"}}};Object(s.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(w.a.getItem("BM.KEY"));case 3:return e=n.sent,n.next=6,l.a.awrap(w.a.getItem("BM.VAX"));case 6:t=n.sent,null===e&&null===t||E(!0),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),alert("Failed to fetch the data from storage: "+n.t0);case 13:r(!0);case 14:case"end":return n.stop()}}),null,null,[[0,10]],Promise)}()}),[]);var v=Object(s.useRef)(),O=Object(s.useRef)();return u.a.createElement(V.a,{offset:75,swipeEnabled:!1},S&&a?u.a.createElement(p.a,{ref:v,onReady:function(){return O.current=v.current.getCurrentRoute().name},onStateChange:function(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=O.current,t=v.current.getCurrentRoute().name,e===t){n.next=5;break}return n.next=5,l.a.awrap(h.b(t));case 5:O.current=t;case 6:case"end":return n.stop()}}),null,null,null,Promise)},linking:x,fallback:u.a.createElement(C,null)},u.a.createElement(he.Navigator,{screenOptions:{headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"},headerRight:function(){return u.a.createElement(f.a,{resizeMethod:"auto",style:{width:23,height:35,margin:20},source:n(100)})}},initialRouteName:g?"QR List":"Home"},u.a.createElement(he.Screen,{name:"Home",component:I,options:ye(ye({},y.a.ModalSlideFromBottomIOS),{},{headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},title:"SafeKey Wallet",headerTitle:" SafeKey Wallet",cardStyleInterpolator:"ios"===d.a.OS?function(e){return{cardStyle:{opacity:e.current.progress}}}:void 0,headerRight:function(){return u.a.createElement(m.a,{style:{flexDirection:"row-reverse",paddingRight:20,alignItems:"center"}},u.a.createElement(f.a,{resizeMethod:"auto",style:{width:23,height:35},source:n(100)}))}})}),u.a.createElement(he.Screen,{name:"Select Document",component:F,options:{title:"Select Document",animationTypeForReplace:"pop",headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},headerTitle:" Select your SafeKey Document"}}),u.a.createElement(he.Screen,{name:"QR List",component:$,options:{title:"SafeKey Wallet",animationTypeForReplace:"pop",headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},headerTitle:" SafeKey Wallet"}}),u.a.createElement(he.Screen,{name:"Scan QR",options:{headerTitleAlign:"center",headerTitle:"Scan your SafeKey"},component:H}),u.a.createElement(he.Screen,{name:"SafeKey Notice",component:te,options:{headerTitleAlign:"center",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"},headerTitle:"Notice"}}),u.a.createElement(he.Screen,{name:"Vaccination Notice",component:ne,options:{headerTitleAlign:"center",headerTitle:"Notice",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"}}}),u.a.createElement(he.Screen,{name:"Contact Tracing Notice",component:ae,options:{headerTitleAlign:"center",headerTitle:"Notice",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"}}}),u.a.createElement(he.Screen,{options:{headerTitle:"Show QR",headerTitleAlign:"center"},name:"SafeKey QR",component:oe}),u.a.createElement(he.Screen,{options:{headerTitle:"Show QR",headerTitleAlign:"center"},name:"Vaccination Certificate QR",component:ce}),u.a.createElement(he.Screen,{options:{headerTitle:"Show QR",headerTitleAlign:"center"},name:"Contact Tracing Key QR",component:ie}),u.a.createElement(he.Screen,{options:{headerTitle:"404: Not Found",headerTitleAlign:"center",title:"Page Not Found"},name:"NotFound",component:le}),u.a.createElement(he.Screen,{options:{headerTitleAlign:"center",headerTitle:"No Camera Permission",title:"No Camera Permission"},name:"NoCamera",component:fe}))):u.a.createElement(C,null))}!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/service-worker.js";de?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):pe(t,e)}))}}()},312:function(e,t,n){n(313),e.exports=n(436)},339:function(e,t,n){e.exports=n.p+"static/media/icon.1092b622.png"},355:function(e,t){},356:function(e,t){},357:function(e,t){},358:function(e,t){},359:function(e,t){}},[[312,1,2]]]);
//# sourceMappingURL=app.54595b47.chunk.js.map