(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{139:function(e,t,n){e.exports=n.p+"static/media/bm-logo.57a3e983.svg"},173:function(e,t,n){e.exports=n.p+"static/media/qr-background.83209ff7.svg"},174:function(e,t,n){e.exports=n.p+"static/media/share-min.31430806.svg"},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var a=n(3),o=n.n(a),r=n(8),i=n.n(r),c=n(5),l=n.n(c),s=n(0),u=n.n(s),f=n(1),d=n(37),m=n(7),p=n(59),h=n(31),g=n(4),b=n(46),S=n(200),y=n(190),w=n(233),O=n(239),E=n(72),v=n(29),x=n(87),j=n(27),R=n(327),P=Object(b.a)((function(){return n.e(0).then(n.bind(null,332))})),k=function(e){var t=e.navigation,a=Object(s.useState)(null),o=i()(a,2),r=o[0],c=o[1],m=Object(s.useState)(null),g=i()(m,2),b=g[0],S=g[1],y=Object(R.a)([n(173),n(139),n(174)]),w=i()(y,1)[0];return Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(E.a.getItem("BM.KEY"));case 2:e=t.sent,c(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[r]),Object(s.useEffect)((function(){try{!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(E.a.getItem("BM.VAX"));case 2:e=t.sent,S(null!==e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}catch(e){alert(e)}}),[b]),Object(s.useEffect)((function(){!0!==b&&!0!==r||t.dispatch(v.StackActions.replace("QR List"))}),[b,r]),u.a.createElement(u.a.Fragment,null,w?u.a.createElement(f.a,{style:[j.a.container,{paddingBottom:50}]},u.a.createElement(f.a,null,u.a.createElement(d.a,{resizeMethod:"auto",style:{height:150,width:170,marginTop:25},source:n(173)})),u.a.createElement(h.a,{style:[j.a.bold,{marginBottom:2,fontSize:18}]},"No SafeKey's found"),u.a.createElement(h.a,{style:[j.a.text,{marginTop:0,marginBottom:15,textAlign:"center"}]},"Press Scan or Select to add one."),u.a.createElement(p.a,{onPress:function(){t.navigate("Scan QR")},style:[j.a.btn,j.a.shadow,{backgroundColor:"#1971ef",borderWidth:0}]},u.a.createElement(h.a,{style:[j.a.btnText,{color:"white"}]},"Scan Document")),u.a.createElement(p.a,{style:[j.a.btn,j.a.shadow,j.a.btnLine,{backgroundColor:"#fff",marginTop:16}],onPress:function(){t.navigate("Select Document")}},u.a.createElement(h.a,{style:[j.a.btnText,{color:"#1971ef"}]},"Select Document"))):u.a.createElement(x.a,null),u.a.createElement(P,null))},B=n(86),T=n(161),C=n(238),I=n(328),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=Object(b.a)((function(){return Promise.all([n.e(1),n.e(7),n.e(9)]).then(n.bind(null,439))})),D=Object(b.a)((function(){return Promise.all([n.e(3),n.e(17)]).then(n.bind(null,440))})),K=Object(b.a)((function(){return Promise.all([n.e(8),n.e(11)]).then(n.bind(null,441))})),Q=Object(b.a)((function(){return n.e(15).then(n.bind(null,443))})),V=Object(b.a)((function(){return n.e(16).then(n.bind(null,444))})),_=Object(b.a)((function(){return n.e(18).then(n.bind(null,445))})),H=Object(b.a)((function(){return Promise.all([n.e(1),n.e(2),n.e(19)]).then(n.bind(null,446))})),L=Object(b.a)((function(){return n.e(14).then(n.bind(null,447))})),M=Object(b.a)((function(){return Promise.all([n.e(3),n.e(12)]).then(n.bind(null,448))})),q=Object(y.a)();function J(){var e=Object(s.useState)(!1),t=i()(e,2),a=t[0],o=t[1],r=Object(s.useState)(!1),c=i()(r,2),g=c[0],b=c[1],y=Object(s.useState)(!1),v=i()(y,2),R=v[0],P=v[1],W=Object(s.useState)(void 0),A=i()(W,2),F=A[0],J=A[1],X=Object(s.useState)(!1),Y=i()(X,2),$=Y[0],G=Y[1],Z=Object(B.e)({OpenSans_400Regular:B.a,OpenSans_600SemiBold:B.b,OpenSans_700Bold:B.c,OpenSans_800ExtraBold:B.d}),ee=i()(Z,1)[0],te={prefixes:[],config:{screens:{Home:"","Select Document":"select-document","Scan QR":"qr-scanner","QR List":"wallet","SafeKey Notice":"safekey-notice","Vaccination Notice":"certificate-notice","SafeKey QR":"safekey","Vaccination Certificate QR":"vaccination-certificate",NoCamera:"NoCamera",NotFound:"*"}}};Object(s.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(E.a.getItem("BM.KEY"));case 3:return e=n.sent,n.next=6,l.a.awrap(E.a.getItem("BM.VAX"));case 6:t=n.sent,null===e&&null===t||b(!0),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),alert("Failed to fetch the data from storage: "+n.t0);case 13:o(!0);case 14:case"end":return n.stop()}}),null,null,[[0,10]],Promise)}()}),[]);var ne=Object(s.useRef)(),ae=Object(s.useRef)();Object(s.useEffect)((function(){!function(){var e=window.navigator.userAgent,t=window.navigator.platform,n=null;-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux"),J(n)}()}),[]),Object(s.useEffect)((function(){"iOS"===F&&G(!0)})),window.addEventListener("beforeinstallprompt",(function(e){console.log("\ud83d\udc4d","beforeinstallprompt",e),window.deferredPrompt=e,G(!0),console.log("'beforeinstallprompt' event was fired.")}));return u.a.createElement(T.a,{offsetBottom:70},ee&&a?u.a.createElement(S.a,{ref:ne,onReady:function(){return ae.current=ne.current.getCurrentRoute().name},onStateChange:function(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=ae.current,t=ne.current.getCurrentRoute().name,e===t){n.next=5;break}return n.next=5,l.a.awrap(O.a(t));case 5:ae.current=t;case 6:case"end":return n.stop()}}),null,null,null,Promise)},linking:te,fallback:u.a.createElement(x.a,null)},u.a.createElement(q.Navigator,{screenOptions:{headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"},headerRight:function(){return u.a.createElement(d.a,{resizeMethod:"auto",style:{width:23,height:35,margin:20},source:n(139)})}},initialRouteName:g?"QR List":"Home"},u.a.createElement(q.Screen,{name:"Home",component:k,options:N(N({},w.a.ModalSlideFromBottomIOS),{},{headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},title:"SafeKey Wallet",headerTitle:" SafeKey Wallet",cardStyleInterpolator:"ios"===m.a.OS?function(e){return{cardStyle:{opacity:e.current.progress}}}:void 0,headerRight:function(){return u.a.createElement(f.a,{style:{flexDirection:"row-reverse",paddingRight:20}},u.a.createElement(d.a,{resizeMethod:"auto",style:{width:23,height:35},source:n(139)}),$?u.a.createElement(p.a,{onPress:function(){"iOS"===F?P(!0):"Android"===F?function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("\ud83d\udc4d","butInstall-clicked"),e=window.deferredPrompt){n.next=5;break}return console.error("\ud83d\udc4e","The deferred prompt is not available."),n.abrupt("return");case 5:return e.prompt(),n.next=8,l.a.awrap(e.userChoice);case 8:t=n.sent,console.log("\ud83d\udc4d","userChoice",t),window.deferredPrompt=null;case 11:case"end":return n.stop()}}),null,null,null,Promise)}():alert("other")},style:[j.a.center,{backgroundColor:"#1971ef",marginRight:20,paddingHorizontal:24,borderRadius:50}]},u.a.createElement(h.a,{style:[j.a.text,{color:"#fff"}]},"Install")):u.a.createElement(u.a.Fragment,null))}})}),u.a.createElement(q.Screen,{name:"Select Document",component:z,options:{title:"Select Document",animationTypeForReplace:"pop",headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},headerTitle:" Select your SafeKey Document"}}),u.a.createElement(q.Screen,{name:"QR List",component:K,options:{title:"SafeKey Wallet",animationTypeForReplace:"pop",headerTitleStyle:{alignSelf:"flex-start",fontFamily:"OpenSans_600SemiBold"},headerTitle:" SafeKey Wallet"}}),u.a.createElement(q.Screen,{name:"Scan QR",options:{headerTitle:"Scan your SafeKey"},component:D}),u.a.createElement(q.Screen,{name:"SafeKey Notice",component:Q,options:{headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"},headerTitle:"Notice"}}),u.a.createElement(q.Screen,{name:"Vaccination Notice",component:V,options:{headerTitle:"Notice",headerTitleStyle:{alignSelf:"center",fontFamily:"OpenSans_600SemiBold"}}}),u.a.createElement(q.Screen,{options:{headerTitle:"Show QR"},name:"SafeKey QR",component:_}),u.a.createElement(q.Screen,{options:{headerTitle:"Show QR"},name:"Vaccination Certificate QR",component:H}),u.a.createElement(q.Screen,{options:{headerTitle:"404: Not Found",title:"Page Not Found"},name:"NotFound",component:L}),u.a.createElement(q.Screen,{options:{headerTitle:"No Camera Permission",title:"No Camera Permission"},name:"NoCamera",component:M}))):u.a.createElement(x.a,null),u.a.createElement(C.a,{animationIn:"fadeInDownBig",isVisible:R},u.a.createElement(f.a,{style:j.a.center},u.a.createElement(f.a,{style:[U.modalInnerView,j.a.center]},u.a.createElement(f.a,{style:{position:"absolute",top:7,right:7}},u.a.createElement(p.a,{onPress:function(){return P(!1)}},u.a.createElement(I.a,{name:"close-outline",size:28,color:"black"}))),u.a.createElement(f.a,{style:[U.IconView,j.a.center]},u.a.createElement(f.a,{style:U.AppIcon}),u.a.createElement(f.a,{style:U.AppIcon}),u.a.createElement(f.a,{style:[U.AppIcon,j.a.shadow,{marginRight:4,width:90,height:90,borderRadius:5}]},u.a.createElement(d.a,{source:n(318),style:[{borderRadius:5,width:90,height:90}]})),u.a.createElement(f.a,{style:U.AppIcon}),u.a.createElement(f.a,{style:U.AppIcon})),u.a.createElement(h.a,{style:[j.a.bold,{fontSize:20,fontFamily:"OpenSans_700Bold",marginBottom:20}]},"Install SafeKey Wallet"),u.a.createElement(h.a,{style:[j.a.text,{marginHorizontal:20,textAlign:"center",fontSize:16,marginBottom:20}]},"Install this web app on your home screen for quick and easy access when you're on the go."),u.a.createElement(f.a,{style:[j.a.center,{backgroundColor:"#f9f9f9",width:"100%",paddingVertical:15}]},u.a.createElement(h.a,{style:[j.a.center,j.a.text]},"Just tap",u.a.createElement(d.a,{style:{width:20,height:20,marginHorizontal:3,marginBottom:3},source:n(174)}),"then 'Add to Home Screen'"))))))}var U=g.a.create({modalInnerView:{maxWidth:350,backgroundColor:"#fff",borderRadius:5,overflow:"hidden"},IconView:{overflow:"hidden",flexDirection:"row",marginVertical:30},AppIcon:{width:80,height:80,backgroundColor:"#f0f0f0",borderRadius:5,marginHorizontal:4,marginVertical:8}});!function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/service-worker.js";W?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):A(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):A(t,e)}))}}()},262:function(e,t,n){n(263),e.exports=n(319)},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n(4).a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",paddingHorizontal:20,marginBottom:50},containerTop:{flex:1,backgroundColor:"#fff",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:20,paddingTop:20,flexWrap:"wrap",width:"100%",marginBottom:120},btn:{width:"100%",maxWidth:500,borderRadius:10,paddingVertical:11},btnLine:{borderWidth:2.5,borderColor:"#1971ef"},btnText:{textAlign:"center",fontSize:18},bold:{textAlign:"center",color:"#333",fontFamily:"OpenSans_600SemiBold"},shadow:{shadowColor:"#470000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:5,elevation:2},text:{color:"#333",fontFamily:"OpenSans_400Regular",fontSize:14},li:{alignSelf:"flex-start",color:"black",fontFamily:"OpenSans_400Regular",lineHeight:30,marginBottom:30,fontSize:18,textAlign:"left",marginLeft:0,color:"#333333"},noticeHeader:{fontFamily:"OpenSans_600SemiBold",fontSize:19,marginBottom:25,marginTop:25,alignSelf:"flex-start",color:"#333333"},QrHeader:{fontSize:24,fontWeight:"bold",marginBottom:30,marginTop:25,color:"#000"},center:{display:"flex",justifyContent:"center",alignItems:"center"},bmQrLogo:{width:55,height:80,position:"absolute"}})},318:function(e,t,n){e.exports=n.p+"static/media/icon.1092b622.png"},87:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(1),i=n(154),c=n(27);t.a=function(){return o.a.createElement(r.a,{style:[c.a.container,{marginBottom:0,paddingHorizontal:0}]},o.a.createElement(i.a,{color:"#000f0f"}))}}},[[262,5,6]]]);
//# sourceMappingURL=app.0e4d7c72.chunk.js.map